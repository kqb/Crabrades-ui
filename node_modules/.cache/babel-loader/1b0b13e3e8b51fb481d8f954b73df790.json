{"ast":null,"code":"var _jsxFileName = \"/Users/yuzucchi/Documents/operations/nft/scaffold-eth/packages/react-app/src/components/Swap.jsx\";\nimport { RetweetOutlined, SettingOutlined } from \"@ant-design/icons\";\nimport { formatUnits, parseUnits } from \"@ethersproject/units\";\nimport { ChainId, Fetcher, Percent, Token, TokenAmount, Trade, WETH } from \"@uniswap/sdk\";\nimport { abi as IUniswapV2Router02ABI } from \"@uniswap/v2-periphery/build/IUniswapV2Router02.json\";\nimport { Button, Card, Descriptions, Divider, Drawer, InputNumber, Modal, notification, Row, Select, Space, Tooltip, Typography } from \"antd\";\nimport { useBlockNumber, usePoller } from \"eth-hooks\";\nimport { ethers } from \"ethers\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDebounce } from \"../hooks\";\nconst {\n  Option\n} = Select;\nconst {\n  Text\n} = Typography;\nexport const ROUTER_ADDRESS = \"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\";\nexport const ZERO_ADDRESS = \"0x0000000000000000000000000000000000000000\";\nconst erc20Abi = [\"function balanceOf(address owner) view returns (uint256)\", \"function approve(address _spender, uint256 _value) public returns (bool success)\", \"function allowance(address _owner, address _spender) public view returns (uint256 remaining)\"];\n\nconst makeCall = async (callName, contract, args, metadata = {}) => {\n  if (contract[callName]) {\n    let result;\n\n    if (args) {\n      result = await contract[callName](...args, metadata);\n    } else {\n      result = await contract[callName]();\n    }\n\n    return result;\n  }\n\n  console.log(\"no call of that name!\");\n};\n\nconst defaultToken = \"ETH\";\nconst defaultTokenOut = \"DAI\";\nconst defaultSlippage = \"0.5\";\nconst defaultTimeLimit = 60 * 10;\n\nconst tokenListToObject = array => array.reduce((obj, item) => {\n  obj[item.symbol] = new Token(item.chainId, item.address, item.decimals, item.symbol, item.name);\n  return obj;\n}, {});\n\nfunction Swap({\n  selectedProvider,\n  tokenListURI\n}) {\n  const [tokenIn, setTokenIn] = useState(defaultToken);\n  const [tokenOut, setTokenOut] = useState(defaultTokenOut);\n  const [exact, setExact] = useState();\n  const [amountIn, setAmountIn] = useState();\n  const [amountInMax, setAmountInMax] = useState();\n  const [amountOut, setAmountOut] = useState();\n  const [amountOutMin, setAmountOutMin] = useState();\n  const [trades, setTrades] = useState();\n  const [routerAllowance, setRouterAllowance] = useState();\n  const [balanceIn, setBalanceIn] = useState();\n  const [balanceOut, setBalanceOut] = useState();\n  const [slippageTolerance, setSlippageTolerance] = useState(new Percent(Math.round(defaultSlippage * 100).toString(), \"10000\"));\n  const [timeLimit, setTimeLimit] = useState(defaultTimeLimit);\n  const [swapping, setSwapping] = useState(false);\n  const [approving, setApproving] = useState(false);\n  const [settingsVisible, setSettingsVisible] = useState(false);\n  const [swapModalVisible, setSwapModalVisible] = useState(false);\n  const [tokenList, setTokenList] = useState([]);\n  const [tokens, setTokens] = useState();\n  const [invertPrice, setInvertPrice] = useState(false);\n  const blockNumber = useBlockNumber(selectedProvider, 3000);\n  const signer = selectedProvider.getSigner();\n  const routerContract = new ethers.Contract(ROUTER_ADDRESS, IUniswapV2Router02ABI, signer);\n\n  const _tokenListUri = tokenListURI || \"https://gateway.ipfs.io/ipns/tokens.uniswap.org\";\n\n  const debouncedAmountIn = useDebounce(amountIn, 500);\n  const debouncedAmountOut = useDebounce(amountOut, 500);\n  const activeChainId = process.env.REACT_APP_NETWORK === \"kovan\" ? ChainId.KOVAN : ChainId.MAINNET;\n  useEffect(() => {\n    const getTokenList = async () => {\n      console.log(_tokenListUri);\n\n      try {\n        const tokenList = await fetch(_tokenListUri);\n        const tokenListJson = await tokenList.json();\n        const filteredTokens = tokenListJson.tokens.filter(function (t) {\n          return t.chainId === activeChainId;\n        });\n        const ethToken = WETH[activeChainId];\n        ethToken.name = \"Ethereum\";\n        ethToken.symbol = \"ETH\";\n        ethToken.logoURI = \"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png\";\n        const _tokenList = [ethToken, ...filteredTokens];\n        setTokenList(_tokenList);\n\n        const _tokens = tokenListToObject(_tokenList);\n\n        setTokens(_tokens);\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    getTokenList();\n  }, [tokenListURI]);\n\n  const getTrades = async () => {\n    if (tokenIn && tokenOut && (amountIn || amountOut)) {\n      const pairs = arr => arr.map((v, i) => arr.slice(i + 1).map(w => [v, w])).flat();\n\n      const baseTokens = tokenList.filter(function (t) {\n        return [\"DAI\", \"USDC\", \"USDT\", \"COMP\", \"ETH\", \"MKR\", \"LINK\", tokenIn, tokenOut].includes(t.symbol);\n      }).map(el => {\n        return new Token(el.chainId, el.address, el.decimals, el.symbol, el.name);\n      });\n      const listOfPairwiseTokens = pairs(baseTokens);\n\n      const getPairs = async list => {\n        const listOfPromises = list.map(item => Fetcher.fetchPairData(item[0], item[1], selectedProvider));\n        return Promise.all(listOfPromises.map(p => p.catch(() => undefined)));\n      };\n\n      const listOfPairs = await getPairs(listOfPairwiseTokens);\n      let bestTrade;\n\n      if (exact === \"in\") {\n        setAmountInMax();\n        bestTrade = Trade.bestTradeExactIn(listOfPairs.filter(item => item), new TokenAmount(tokens[tokenIn], parseUnits(amountIn.toString(), tokens[tokenIn].decimals)), tokens[tokenOut], {\n          maxNumResults: 3,\n          maxHops: 1\n        });\n\n        if (bestTrade[0]) {\n          setAmountOut(bestTrade[0].outputAmount.toSignificant(6));\n        } else {\n          setAmountOut();\n        }\n      } else if (exact === \"out\") {\n        setAmountOutMin();\n        bestTrade = Trade.bestTradeExactOut(listOfPairs.filter(item => item), tokens[tokenIn], new TokenAmount(tokens[tokenOut], parseUnits(amountOut.toString(), tokens[tokenOut].decimals)), {\n          maxNumResults: 3,\n          maxHops: 1\n        });\n\n        if (bestTrade[0]) {\n          setAmountIn(bestTrade[0].inputAmount.toSignificant(6));\n        } else {\n          setAmountIn();\n        }\n      }\n\n      setTrades(bestTrade);\n      console.log(bestTrade);\n    }\n  };\n\n  useEffect(() => {\n    getTrades();\n  }, [tokenIn, tokenOut, debouncedAmountIn, debouncedAmountOut, slippageTolerance, selectedProvider]);\n  useEffect(() => {\n    if (trades && trades[0]) {\n      if (exact === \"in\") {\n        setAmountOutMin(trades[0].minimumAmountOut(slippageTolerance));\n      } else if (exact === \"out\") {\n        setAmountInMax(trades[0].maximumAmountIn(slippageTolerance));\n      }\n    }\n  }, [slippageTolerance, amountIn, amountOut, trades]);\n\n  const getBalance = async (_token, _account, _contract) => {\n    let newBalance;\n\n    if (_token === \"ETH\") {\n      newBalance = await selectedProvider.getBalance(_account);\n    } else {\n      newBalance = await makeCall(\"balanceOf\", _contract, [_account]);\n    }\n\n    return newBalance;\n  };\n\n  const getAccountInfo = async () => {\n    if (tokens) {\n      const accountList = await selectedProvider.listAccounts();\n\n      if (tokenIn) {\n        const tempContractIn = new ethers.Contract(tokens[tokenIn].address, erc20Abi, selectedProvider);\n        const newBalanceIn = await getBalance(tokenIn, accountList[0], tempContractIn);\n        setBalanceIn(newBalanceIn);\n        let allowance;\n\n        if (tokenIn === \"ETH\") {\n          setRouterAllowance();\n        } else {\n          allowance = await makeCall(\"allowance\", tempContractIn, [accountList[0], ROUTER_ADDRESS]);\n          setRouterAllowance(allowance);\n        }\n      }\n\n      if (tokenOut) {\n        const tempContractOut = new ethers.Contract(tokens[tokenOut].address, erc20Abi, selectedProvider);\n        const newBalanceOut = await getBalance(tokenOut, accountList[0], tempContractOut);\n        setBalanceOut(newBalanceOut);\n      }\n    }\n  };\n\n  usePoller(getAccountInfo, 6000);\n  const route = trades ? trades.length > 0 ? trades[0].route.path.map(function (item) {\n    return item.symbol;\n  }) : [] : [];\n\n  const updateRouterAllowance = async newAllowance => {\n    setApproving(true);\n\n    try {\n      const tempContract = new ethers.Contract(tokens[tokenIn].address, erc20Abi, signer);\n      const result = await makeCall(\"approve\", tempContract, [ROUTER_ADDRESS, newAllowance]);\n      console.log(result);\n      setApproving(false);\n      return true;\n    } catch (e) {\n      notification.open({\n        message: \"Approval unsuccessful\",\n        description: `Error: ${e.message}`\n      });\n    }\n  };\n\n  const approveRouter = async () => {\n    const approvalAmount = exact === \"in\" ? ethers.utils.hexlify(parseUnits(amountIn.toString(), tokens[tokenIn].decimals)) : amountInMax.raw.toString();\n    console.log(approvalAmount);\n    const approval = updateRouterAllowance(approvalAmount);\n\n    if (approval) {\n      notification.open({\n        message: \"Token transfer approved\",\n        description: `You can now swap up to ${amountIn} ${tokenIn}`\n      });\n    }\n  };\n\n  const removeRouterAllowance = async () => {\n    const approvalAmount = ethers.utils.hexlify(0);\n    console.log(approvalAmount);\n    const removal = updateRouterAllowance(approvalAmount);\n\n    if (removal) {\n      notification.open({\n        message: \"Token approval removed\",\n        description: `The router is no longer approved for ${tokenIn}`\n      });\n    }\n  };\n\n  const executeSwap = async () => {\n    setSwapping(true);\n\n    try {\n      let args;\n      const metadata = {};\n      let call;\n      const deadline = Math.floor(Date.now() / 1000) + timeLimit;\n      const path = trades[0].route.path.map(function (item) {\n        return item.address;\n      });\n      console.log(path);\n      const accountList = await selectedProvider.listAccounts();\n      const address = accountList[0];\n\n      if (exact === \"in\") {\n        const _amountIn = ethers.utils.hexlify(parseUnits(amountIn.toString(), tokens[tokenIn].decimals));\n\n        const _amountOutMin = ethers.utils.hexlify(ethers.BigNumber.from(amountOutMin.raw.toString()));\n\n        if (tokenIn === \"ETH\") {\n          call = \"swapExactETHForTokens\";\n          args = [_amountOutMin, path, address, deadline];\n          metadata.value = _amountIn;\n        } else {\n          call = tokenOut === \"ETH\" ? \"swapExactTokensForETH\" : \"swapExactTokensForTokens\";\n          args = [_amountIn, _amountOutMin, path, address, deadline];\n        }\n      } else if (exact === \"out\") {\n        const _amountOut = ethers.utils.hexlify(parseUnits(amountOut.toString(), tokens[tokenOut].decimals));\n\n        const _amountInMax = ethers.utils.hexlify(ethers.BigNumber.from(amountInMax.raw.toString()));\n\n        if (tokenIn === \"ETH\") {\n          call = \"swapETHForExactTokens\";\n          args = [_amountOut, path, address, deadline];\n          metadata.value = _amountInMax;\n        } else {\n          call = tokenOut === \"ETH\" ? \"swapTokensForExactETH\" : \"swapTokensForExactTokens\";\n          args = [_amountOut, _amountInMax, path, address, deadline];\n        }\n      }\n\n      console.log(call, args, metadata);\n      const result = await makeCall(call, routerContract, args, metadata);\n      console.log(result);\n      notification.open({\n        message: \"Swap complete 🦄\",\n        description: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Text, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }\n        }, `Swapped ${tokenIn} for ${tokenOut}, transaction: `), /*#__PURE__*/React.createElement(Text, {\n          copyable: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }\n        }, result.hash))\n      });\n      setSwapping(false);\n    } catch (e) {\n      console.log(e);\n      setSwapping(false);\n      notification.open({\n        message: \"Swap unsuccessful\",\n        description: `Error: ${e.message}`\n      });\n    }\n  };\n\n  const showSwapModal = () => {\n    setSwapModalVisible(true);\n  };\n\n  const handleSwapModalOk = () => {\n    setSwapModalVisible(false);\n    executeSwap();\n  };\n\n  const handleSwapModalCancel = () => {\n    setSwapModalVisible(false);\n  };\n\n  const insufficientBalance = balanceIn ? parseFloat(formatUnits(balanceIn, tokens[tokenIn].decimals)) < amountIn : null;\n  const inputIsToken = tokenIn !== \"ETH\";\n  const insufficientAllowance = !inputIsToken ? false : routerAllowance ? parseFloat(formatUnits(routerAllowance, tokens[tokenIn].decimals)) < amountIn : null;\n  const formattedBalanceIn = balanceIn ? parseFloat(formatUnits(balanceIn, tokens[tokenIn].decimals)).toPrecision(6) : null;\n  const formattedBalanceOut = balanceOut ? parseFloat(formatUnits(balanceOut, tokens[tokenOut].decimals)).toPrecision(6) : null;\n  const metaIn = tokens && tokenList && tokenIn ? tokenList.filter(function (t) {\n    return t.address === tokens[tokenIn].address;\n  })[0] : null;\n  const metaOut = tokens && tokenList && tokenOut ? tokenList.filter(function (t) {\n    return t.address === tokens[tokenOut].address;\n  })[0] : null;\n\n  const cleanIpfsURI = uri => {\n    try {\n      return uri.replace(\"ipfs://\", \"https://ipfs.io/ipfs/\");\n    } catch (e) {\n      console.log(e, uri);\n      return uri;\n    }\n  };\n\n  const logoIn = metaIn ? cleanIpfsURI(metaIn.logoURI) : null;\n  const logoOut = metaOut ? cleanIpfsURI(metaOut.logoURI) : null;\n  const rawPrice = trades && trades[0] ? trades[0].executionPrice : null;\n  const price = rawPrice ? rawPrice.toSignificant(7) : null;\n  const priceDescription = rawPrice ? invertPrice ? `${rawPrice.invert().toSignificant(7)} ${tokenIn} per ${tokenOut}` : `${price} ${tokenOut} per ${tokenIn}` : null;\n  const priceWidget = /*#__PURE__*/React.createElement(Space, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    type: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 7\n    }\n  }, priceDescription), /*#__PURE__*/React.createElement(Button, {\n    type: \"text\",\n    onClick: () => {\n      setInvertPrice(!invertPrice);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(RetweetOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 9\n    }\n  })));\n  const swapModal = /*#__PURE__*/React.createElement(Modal, {\n    title: \"Confirm swap\",\n    visible: swapModalVisible,\n    onOk: handleSwapModalOk,\n    onCancel: handleSwapModalCancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Space, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logoIn,\n    alt: tokenIn,\n    width: \"30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 11\n    }\n  }), amountIn, tokenIn)), /*#__PURE__*/React.createElement(Row, {\n    justify: \"center\",\n    align: \"middle\",\n    style: {\n      width: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 9\n    }\n  }, \"\\u2193\")), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Space, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logoOut,\n    alt: tokenOut,\n    width: \"30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 11\n    }\n  }), amountOut, tokenOut)), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 7\n    }\n  }, priceWidget), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 7\n    }\n  }, trades && (amountOutMin && exact === \"in\" || amountInMax && exact === \"out\") ? exact === \"in\" ? `Output is estimated. You will receive at least ${amountOutMin.toSignificant(6)} ${tokenOut} or the transaction will revert.` : `Input is estimated. You will sell at most ${amountInMax.toSignificant(6)} ${tokenIn} or the transaction will revert.` : null));\n  return /*#__PURE__*/React.createElement(Card, {\n    title: /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"https://ipfs.io/ipfs/QmXttGpZrECX5qCyXbBQiqgQNytVGeZW5Anewvh2jc4psg\",\n      width: \"40\",\n      alt: \"uniswapLogo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Typography, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 11\n      }\n    }, \"Uniswapper\")),\n    extra: /*#__PURE__*/React.createElement(Button, {\n      type: \"text\",\n      onClick: () => {\n        setSettingsVisible(true);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(SettingOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 11\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Space, {\n    direction: \"vertical\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    justify: \"center\",\n    align: \"middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    size: \"small\",\n    type: \"inner\",\n    title: `From${exact === \"out\" && tokenIn && tokenOut ? \" (estimate)\" : \"\"}`,\n    extra: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"img\", {\n      src: logoIn,\n      alt: tokenIn,\n      width: \"30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"link\",\n      onClick: () => {\n        setAmountOut();\n        setAmountIn(formatUnits(balanceIn, tokens[tokenIn].decimals));\n        setAmountOutMin();\n        setAmountInMax();\n        setExact(\"in\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 17\n      }\n    }, formattedBalanceIn)),\n    style: {\n      width: 400,\n      textAlign: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(InputNumber, {\n    style: {\n      width: \"160px\"\n    },\n    min: 0,\n    size: \"large\",\n    value: amountIn,\n    onChange: e => {\n      setAmountOut();\n      setTrades();\n      setAmountIn(e);\n      setExact(\"in\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Select, {\n    showSearch: true,\n    value: tokenIn,\n    style: {\n      width: \"120px\"\n    },\n    size: \"large\",\n    bordered: false,\n    defaultValue: defaultToken,\n    onChange: value => {\n      console.log(value);\n\n      if (value === tokenOut) {\n        console.log(\"switch!\", tokenIn);\n        setTokenOut(tokenIn);\n        setAmountOut(amountIn);\n        setBalanceOut(balanceIn);\n      }\n\n      setTokenIn(value);\n      setTrades();\n      setAmountIn();\n      setExact(\"out\");\n      setBalanceIn();\n    },\n    filterOption: (input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n    optionFilterProp: \"children\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 13\n    }\n  }, tokenList.map(token => /*#__PURE__*/React.createElement(Option, {\n    key: token.symbol,\n    value: token.symbol,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 17\n    }\n  }, token.symbol))))), /*#__PURE__*/React.createElement(Row, {\n    justify: \"center\",\n    align: \"middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    title: route.join(\"->\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 549,\n      columnNumber: 13\n    }\n  }, \"\\u2193\"))), /*#__PURE__*/React.createElement(Row, {\n    justify: \"center\",\n    align: \"middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    size: \"small\",\n    type: \"inner\",\n    title: `To${exact === \"in\" && tokenIn && tokenOut ? \" (estimate)\" : \"\"}`,\n    extra: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"img\", {\n      src: logoOut,\n      width: \"30\",\n      alt: tokenOut,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 560,\n        columnNumber: 17\n      }\n    }, formattedBalanceOut)),\n    style: {\n      width: 400,\n      textAlign: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(InputNumber, {\n    style: {\n      width: \"160px\"\n    },\n    size: \"large\",\n    min: 0,\n    value: amountOut,\n    onChange: e => {\n      setAmountOut(e);\n      setAmountIn();\n      setTrades();\n      setExact(\"out\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 565,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Select, {\n    showSearch: true,\n    value: tokenOut,\n    style: {\n      width: \"120px\"\n    },\n    size: \"large\",\n    bordered: false,\n    onChange: value => {\n      console.log(value, tokenIn, tokenOut);\n\n      if (value === tokenIn) {\n        console.log(\"switch!\", tokenOut);\n        setTokenIn(tokenOut);\n        setAmountIn(amountOut);\n        setBalanceIn(balanceOut);\n      }\n\n      setTokenOut(value);\n      setExact(\"in\");\n      setAmountOut();\n      setTrades();\n      setBalanceOut();\n    },\n    filterOption: (input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n    optionFilterProp: \"children\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 13\n    }\n  }, tokenList.map(token => /*#__PURE__*/React.createElement(Option, {\n    key: token.symbol,\n    value: token.symbol,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 601,\n      columnNumber: 17\n    }\n  }, token.symbol))))), /*#__PURE__*/React.createElement(Row, {\n    justify: \"center\",\n    align: \"middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 608,\n      columnNumber: 9\n    }\n  }, priceDescription ? priceWidget : null), /*#__PURE__*/React.createElement(Row, {\n    justify: \"center\",\n    align: \"middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 611,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Space, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 612,\n      columnNumber: 11\n    }\n  }, inputIsToken ? /*#__PURE__*/React.createElement(Button, {\n    size: \"large\",\n    loading: approving,\n    disabled: !insufficientAllowance,\n    onClick: approveRouter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 614,\n      columnNumber: 15\n    }\n  }, !insufficientAllowance && amountIn && amountOut ? \"Approved\" : \"Approve\") : null, /*#__PURE__*/React.createElement(Button, {\n    size: \"large\",\n    loading: swapping,\n    disabled: insufficientAllowance || insufficientBalance || !amountIn || !amountOut,\n    onClick: showSwapModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 618,\n      columnNumber: 13\n    }\n  }, insufficientBalance ? \"Insufficient balance\" : \"Swap!\"), swapModal))), /*#__PURE__*/React.createElement(Drawer, {\n    visible: settingsVisible,\n    onClose: () => {\n      setSettingsVisible(false);\n    },\n    width: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 630,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Descriptions, {\n    title: \"Details\",\n    column: 1,\n    style: {\n      textAlign: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 637,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Descriptions.Item, {\n    label: \"blockNumber\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 638,\n      columnNumber: 11\n    }\n  }, blockNumber), /*#__PURE__*/React.createElement(Descriptions.Item, {\n    label: \"routerAllowance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 639,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Space, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 640,\n      columnNumber: 13\n    }\n  }, routerAllowance ? formatUnits(routerAllowance, tokens[tokenIn].decimals) : null, routerAllowance > 0 ? /*#__PURE__*/React.createElement(Button, {\n    onClick: removeRouterAllowance,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 642,\n      columnNumber: 38\n    }\n  }, \"Remove Allowance\") : null)), /*#__PURE__*/React.createElement(Descriptions.Item, {\n    label: \"route\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 645,\n      columnNumber: 11\n    }\n  }, route.join(\"->\")), /*#__PURE__*/React.createElement(Descriptions.Item, {\n    label: \"exact\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 646,\n      columnNumber: 11\n    }\n  }, exact), /*#__PURE__*/React.createElement(Descriptions.Item, {\n    label: \"bestPrice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 647,\n      columnNumber: 11\n    }\n  }, trades ? trades.length > 0 ? trades[0].executionPrice.toSignificant(6) : null : null), /*#__PURE__*/React.createElement(Descriptions.Item, {\n    label: \"nextMidPrice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 650,\n      columnNumber: 11\n    }\n  }, trades ? trades.length > 0 ? trades[0].nextMidPrice.toSignificant(6) : null : null), /*#__PURE__*/React.createElement(Descriptions.Item, {\n    label: \"priceImpact\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 653,\n      columnNumber: 11\n    }\n  }, trades ? trades.length > 0 ? trades[0].priceImpact.toSignificant(6) : null : null), /*#__PURE__*/React.createElement(Descriptions.Item, {\n    label: \"slippageTolerance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 656,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(InputNumber, {\n    defaultValue: defaultSlippage,\n    min: 0,\n    max: 100,\n    precision: 2,\n    formatter: value => `${value}%`,\n    parser: value => value.replace(\"%\", \"\"),\n    onChange: value => {\n      console.log(value);\n      const slippagePercent = new Percent(Math.round(value * 100).toString(), \"10000\");\n      setSlippageTolerance(slippagePercent);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 657,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Descriptions.Item, {\n    label: \"amountInMax\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 672,\n      columnNumber: 11\n    }\n  }, amountInMax ? amountInMax.toExact() : null), /*#__PURE__*/React.createElement(Descriptions.Item, {\n    label: \"amountOutMin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 673,\n      columnNumber: 11\n    }\n  }, amountOutMin ? amountOutMin.toExact() : null), /*#__PURE__*/React.createElement(Descriptions.Item, {\n    label: \"timeLimitInSeconds\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 674,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(InputNumber, {\n    min: 0,\n    max: 3600,\n    defaultValue: defaultTimeLimit,\n    onChange: value => {\n      console.log(value);\n      setTimeLimit(value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 675,\n      columnNumber: 13\n    }\n  })))));\n}\n\nexport default Swap;","map":{"version":3,"sources":["/Users/yuzucchi/Documents/operations/nft/scaffold-eth/packages/react-app/src/components/Swap.jsx"],"names":["RetweetOutlined","SettingOutlined","formatUnits","parseUnits","ChainId","Fetcher","Percent","Token","TokenAmount","Trade","WETH","abi","IUniswapV2Router02ABI","Button","Card","Descriptions","Divider","Drawer","InputNumber","Modal","notification","Row","Select","Space","Tooltip","Typography","useBlockNumber","usePoller","ethers","React","useEffect","useState","useDebounce","Option","Text","ROUTER_ADDRESS","ZERO_ADDRESS","erc20Abi","makeCall","callName","contract","args","metadata","result","console","log","defaultToken","defaultTokenOut","defaultSlippage","defaultTimeLimit","tokenListToObject","array","reduce","obj","item","symbol","chainId","address","decimals","name","Swap","selectedProvider","tokenListURI","tokenIn","setTokenIn","tokenOut","setTokenOut","exact","setExact","amountIn","setAmountIn","amountInMax","setAmountInMax","amountOut","setAmountOut","amountOutMin","setAmountOutMin","trades","setTrades","routerAllowance","setRouterAllowance","balanceIn","setBalanceIn","balanceOut","setBalanceOut","slippageTolerance","setSlippageTolerance","Math","round","toString","timeLimit","setTimeLimit","swapping","setSwapping","approving","setApproving","settingsVisible","setSettingsVisible","swapModalVisible","setSwapModalVisible","tokenList","setTokenList","tokens","setTokens","invertPrice","setInvertPrice","blockNumber","signer","getSigner","routerContract","Contract","_tokenListUri","debouncedAmountIn","debouncedAmountOut","activeChainId","process","env","REACT_APP_NETWORK","KOVAN","MAINNET","getTokenList","fetch","tokenListJson","json","filteredTokens","filter","t","ethToken","logoURI","_tokenList","_tokens","e","getTrades","pairs","arr","map","v","i","slice","w","flat","baseTokens","includes","el","listOfPairwiseTokens","getPairs","list","listOfPromises","fetchPairData","Promise","all","p","catch","undefined","listOfPairs","bestTrade","bestTradeExactIn","maxNumResults","maxHops","outputAmount","toSignificant","bestTradeExactOut","inputAmount","minimumAmountOut","maximumAmountIn","getBalance","_token","_account","_contract","newBalance","getAccountInfo","accountList","listAccounts","tempContractIn","newBalanceIn","allowance","tempContractOut","newBalanceOut","route","length","path","updateRouterAllowance","newAllowance","tempContract","open","message","description","approveRouter","approvalAmount","utils","hexlify","raw","approval","removeRouterAllowance","removal","executeSwap","call","deadline","floor","Date","now","_amountIn","_amountOutMin","BigNumber","from","value","_amountOut","_amountInMax","hash","showSwapModal","handleSwapModalOk","handleSwapModalCancel","insufficientBalance","parseFloat","inputIsToken","insufficientAllowance","formattedBalanceIn","toPrecision","formattedBalanceOut","metaIn","metaOut","cleanIpfsURI","uri","replace","logoIn","logoOut","rawPrice","executionPrice","price","priceDescription","invert","priceWidget","swapModal","width","textAlign","input","option","children","toLowerCase","indexOf","token","join","nextMidPrice","priceImpact","slippagePercent","toExact"],"mappings":"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","sourcesContent":["import { RetweetOutlined, SettingOutlined } from \"@ant-design/icons\";\nimport { formatUnits, parseUnits } from \"@ethersproject/units\";\nimport { ChainId, Fetcher, Percent, Token, TokenAmount, Trade, WETH } from \"@uniswap/sdk\";\nimport { abi as IUniswapV2Router02ABI } from \"@uniswap/v2-periphery/build/IUniswapV2Router02.json\";\nimport {\n  Button,\n  Card,\n  Descriptions,\n  Divider,\n  Drawer,\n  InputNumber,\n  Modal,\n  notification,\n  Row,\n  Select,\n  Space,\n  Tooltip,\n  Typography,\n} from \"antd\";\nimport { useBlockNumber, usePoller } from \"eth-hooks\";\nimport { ethers } from \"ethers\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDebounce } from \"../hooks\";\n\nconst { Option } = Select;\nconst { Text } = Typography;\n\nexport const ROUTER_ADDRESS = \"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\";\n\nexport const ZERO_ADDRESS = \"0x0000000000000000000000000000000000000000\";\n\nconst erc20Abi = [\n  \"function balanceOf(address owner) view returns (uint256)\",\n  \"function approve(address _spender, uint256 _value) public returns (bool success)\",\n  \"function allowance(address _owner, address _spender) public view returns (uint256 remaining)\",\n];\n\nconst makeCall = async (callName, contract, args, metadata = {}) => {\n  if (contract[callName]) {\n    let result;\n    if (args) {\n      result = await contract[callName](...args, metadata);\n    } else {\n      result = await contract[callName]();\n    }\n    return result;\n  }\n  console.log(\"no call of that name!\");\n};\n\nconst defaultToken = \"ETH\";\nconst defaultTokenOut = \"DAI\";\nconst defaultSlippage = \"0.5\";\nconst defaultTimeLimit = 60 * 10;\n\nconst tokenListToObject = array =>\n  array.reduce((obj, item) => {\n    obj[item.symbol] = new Token(item.chainId, item.address, item.decimals, item.symbol, item.name);\n    return obj;\n  }, {});\n\nfunction Swap({ selectedProvider, tokenListURI }) {\n  const [tokenIn, setTokenIn] = useState(defaultToken);\n  const [tokenOut, setTokenOut] = useState(defaultTokenOut);\n  const [exact, setExact] = useState();\n  const [amountIn, setAmountIn] = useState();\n  const [amountInMax, setAmountInMax] = useState();\n  const [amountOut, setAmountOut] = useState();\n  const [amountOutMin, setAmountOutMin] = useState();\n  const [trades, setTrades] = useState();\n  const [routerAllowance, setRouterAllowance] = useState();\n  const [balanceIn, setBalanceIn] = useState();\n  const [balanceOut, setBalanceOut] = useState();\n  const [slippageTolerance, setSlippageTolerance] = useState(\n    new Percent(Math.round(defaultSlippage * 100).toString(), \"10000\"),\n  );\n  const [timeLimit, setTimeLimit] = useState(defaultTimeLimit);\n  const [swapping, setSwapping] = useState(false);\n  const [approving, setApproving] = useState(false);\n  const [settingsVisible, setSettingsVisible] = useState(false);\n  const [swapModalVisible, setSwapModalVisible] = useState(false);\n\n  const [tokenList, setTokenList] = useState([]);\n\n  const [tokens, setTokens] = useState();\n\n  const [invertPrice, setInvertPrice] = useState(false);\n\n  const blockNumber = useBlockNumber(selectedProvider, 3000);\n\n  const signer = selectedProvider.getSigner();\n  const routerContract = new ethers.Contract(ROUTER_ADDRESS, IUniswapV2Router02ABI, signer);\n\n  const _tokenListUri = tokenListURI || \"https://gateway.ipfs.io/ipns/tokens.uniswap.org\";\n\n  const debouncedAmountIn = useDebounce(amountIn, 500);\n  const debouncedAmountOut = useDebounce(amountOut, 500);\n\n  const activeChainId = process.env.REACT_APP_NETWORK === \"kovan\" ? ChainId.KOVAN : ChainId.MAINNET;\n\n  useEffect(() => {\n    const getTokenList = async () => {\n      console.log(_tokenListUri);\n      try {\n        const tokenList = await fetch(_tokenListUri);\n        const tokenListJson = await tokenList.json();\n        const filteredTokens = tokenListJson.tokens.filter(function (t) {\n          return t.chainId === activeChainId;\n        });\n        const ethToken = WETH[activeChainId];\n        ethToken.name = \"Ethereum\";\n        ethToken.symbol = \"ETH\";\n        ethToken.logoURI =\n          \"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png\";\n        const _tokenList = [ethToken, ...filteredTokens];\n        setTokenList(_tokenList);\n        const _tokens = tokenListToObject(_tokenList);\n        setTokens(_tokens);\n      } catch (e) {\n        console.log(e);\n      }\n    };\n    getTokenList();\n  }, [tokenListURI]);\n\n  const getTrades = async () => {\n    if (tokenIn && tokenOut && (amountIn || amountOut)) {\n      const pairs = arr => arr.map((v, i) => arr.slice(i + 1).map(w => [v, w])).flat();\n\n      const baseTokens = tokenList\n        .filter(function (t) {\n          return [\"DAI\", \"USDC\", \"USDT\", \"COMP\", \"ETH\", \"MKR\", \"LINK\", tokenIn, tokenOut].includes(t.symbol);\n        })\n        .map(el => {\n          return new Token(el.chainId, el.address, el.decimals, el.symbol, el.name);\n        });\n\n      const listOfPairwiseTokens = pairs(baseTokens);\n\n      const getPairs = async list => {\n        const listOfPromises = list.map(item => Fetcher.fetchPairData(item[0], item[1], selectedProvider));\n        return Promise.all(listOfPromises.map(p => p.catch(() => undefined)));\n      };\n\n      const listOfPairs = await getPairs(listOfPairwiseTokens);\n\n      let bestTrade;\n\n      if (exact === \"in\") {\n        setAmountInMax();\n        bestTrade = Trade.bestTradeExactIn(\n          listOfPairs.filter(item => item),\n          new TokenAmount(tokens[tokenIn], parseUnits(amountIn.toString(), tokens[tokenIn].decimals)),\n          tokens[tokenOut],\n          { maxNumResults: 3, maxHops: 1 },\n        );\n        if (bestTrade[0]) {\n          setAmountOut(bestTrade[0].outputAmount.toSignificant(6));\n        } else {\n          setAmountOut();\n        }\n      } else if (exact === \"out\") {\n        setAmountOutMin();\n        bestTrade = Trade.bestTradeExactOut(\n          listOfPairs.filter(item => item),\n          tokens[tokenIn],\n          new TokenAmount(tokens[tokenOut], parseUnits(amountOut.toString(), tokens[tokenOut].decimals)),\n          { maxNumResults: 3, maxHops: 1 },\n        );\n        if (bestTrade[0]) {\n          setAmountIn(bestTrade[0].inputAmount.toSignificant(6));\n        } else {\n          setAmountIn();\n        }\n      }\n\n      setTrades(bestTrade);\n\n      console.log(bestTrade);\n    }\n  };\n\n  useEffect(() => {\n    getTrades();\n  }, [tokenIn, tokenOut, debouncedAmountIn, debouncedAmountOut, slippageTolerance, selectedProvider]);\n\n  useEffect(() => {\n    if (trades && trades[0]) {\n      if (exact === \"in\") {\n        setAmountOutMin(trades[0].minimumAmountOut(slippageTolerance));\n      } else if (exact === \"out\") {\n        setAmountInMax(trades[0].maximumAmountIn(slippageTolerance));\n      }\n    }\n  }, [slippageTolerance, amountIn, amountOut, trades]);\n\n  const getBalance = async (_token, _account, _contract) => {\n    let newBalance;\n    if (_token === \"ETH\") {\n      newBalance = await selectedProvider.getBalance(_account);\n    } else {\n      newBalance = await makeCall(\"balanceOf\", _contract, [_account]);\n    }\n    return newBalance;\n  };\n\n  const getAccountInfo = async () => {\n    if (tokens) {\n      const accountList = await selectedProvider.listAccounts();\n\n      if (tokenIn) {\n        const tempContractIn = new ethers.Contract(tokens[tokenIn].address, erc20Abi, selectedProvider);\n        const newBalanceIn = await getBalance(tokenIn, accountList[0], tempContractIn);\n        setBalanceIn(newBalanceIn);\n\n        let allowance;\n\n        if (tokenIn === \"ETH\") {\n          setRouterAllowance();\n        } else {\n          allowance = await makeCall(\"allowance\", tempContractIn, [accountList[0], ROUTER_ADDRESS]);\n          setRouterAllowance(allowance);\n        }\n      }\n\n      if (tokenOut) {\n        const tempContractOut = new ethers.Contract(tokens[tokenOut].address, erc20Abi, selectedProvider);\n        const newBalanceOut = await getBalance(tokenOut, accountList[0], tempContractOut);\n        setBalanceOut(newBalanceOut);\n      }\n    }\n  };\n\n  usePoller(getAccountInfo, 6000);\n\n  const route = trades\n    ? trades.length > 0\n      ? trades[0].route.path.map(function (item) {\n          return item.symbol;\n        })\n      : []\n    : [];\n\n  const updateRouterAllowance = async newAllowance => {\n    setApproving(true);\n    try {\n      const tempContract = new ethers.Contract(tokens[tokenIn].address, erc20Abi, signer);\n      const result = await makeCall(\"approve\", tempContract, [ROUTER_ADDRESS, newAllowance]);\n      console.log(result);\n      setApproving(false);\n      return true;\n    } catch (e) {\n      notification.open({\n        message: \"Approval unsuccessful\",\n        description: `Error: ${e.message}`,\n      });\n    }\n  };\n\n  const approveRouter = async () => {\n    const approvalAmount =\n      exact === \"in\"\n        ? ethers.utils.hexlify(parseUnits(amountIn.toString(), tokens[tokenIn].decimals))\n        : amountInMax.raw.toString();\n    console.log(approvalAmount);\n    const approval = updateRouterAllowance(approvalAmount);\n    if (approval) {\n      notification.open({\n        message: \"Token transfer approved\",\n        description: `You can now swap up to ${amountIn} ${tokenIn}`,\n      });\n    }\n  };\n\n  const removeRouterAllowance = async () => {\n    const approvalAmount = ethers.utils.hexlify(0);\n    console.log(approvalAmount);\n    const removal = updateRouterAllowance(approvalAmount);\n    if (removal) {\n      notification.open({\n        message: \"Token approval removed\",\n        description: `The router is no longer approved for ${tokenIn}`,\n      });\n    }\n  };\n\n  const executeSwap = async () => {\n    setSwapping(true);\n    try {\n      let args;\n      const metadata = {};\n\n      let call;\n      const deadline = Math.floor(Date.now() / 1000) + timeLimit;\n      const path = trades[0].route.path.map(function (item) {\n        return item.address;\n      });\n      console.log(path);\n      const accountList = await selectedProvider.listAccounts();\n      const address = accountList[0];\n\n      if (exact === \"in\") {\n        const _amountIn = ethers.utils.hexlify(parseUnits(amountIn.toString(), tokens[tokenIn].decimals));\n        const _amountOutMin = ethers.utils.hexlify(ethers.BigNumber.from(amountOutMin.raw.toString()));\n        if (tokenIn === \"ETH\") {\n          call = \"swapExactETHForTokens\";\n          args = [_amountOutMin, path, address, deadline];\n          metadata.value = _amountIn;\n        } else {\n          call = tokenOut === \"ETH\" ? \"swapExactTokensForETH\" : \"swapExactTokensForTokens\";\n          args = [_amountIn, _amountOutMin, path, address, deadline];\n        }\n      } else if (exact === \"out\") {\n        const _amountOut = ethers.utils.hexlify(parseUnits(amountOut.toString(), tokens[tokenOut].decimals));\n        const _amountInMax = ethers.utils.hexlify(ethers.BigNumber.from(amountInMax.raw.toString()));\n        if (tokenIn === \"ETH\") {\n          call = \"swapETHForExactTokens\";\n          args = [_amountOut, path, address, deadline];\n          metadata.value = _amountInMax;\n        } else {\n          call = tokenOut === \"ETH\" ? \"swapTokensForExactETH\" : \"swapTokensForExactTokens\";\n          args = [_amountOut, _amountInMax, path, address, deadline];\n        }\n      }\n      console.log(call, args, metadata);\n      const result = await makeCall(call, routerContract, args, metadata);\n      console.log(result);\n      notification.open({\n        message: \"Swap complete 🦄\",\n        description: (\n          <>\n            <Text>{`Swapped ${tokenIn} for ${tokenOut}, transaction: `}</Text>\n            <Text copyable>{result.hash}</Text>\n          </>\n        ),\n      });\n      setSwapping(false);\n    } catch (e) {\n      console.log(e);\n      setSwapping(false);\n      notification.open({\n        message: \"Swap unsuccessful\",\n        description: `Error: ${e.message}`,\n      });\n    }\n  };\n\n  const showSwapModal = () => {\n    setSwapModalVisible(true);\n  };\n\n  const handleSwapModalOk = () => {\n    setSwapModalVisible(false);\n    executeSwap();\n  };\n\n  const handleSwapModalCancel = () => {\n    setSwapModalVisible(false);\n  };\n\n  const insufficientBalance = balanceIn\n    ? parseFloat(formatUnits(balanceIn, tokens[tokenIn].decimals)) < amountIn\n    : null;\n  const inputIsToken = tokenIn !== \"ETH\";\n  const insufficientAllowance = !inputIsToken\n    ? false\n    : routerAllowance\n    ? parseFloat(formatUnits(routerAllowance, tokens[tokenIn].decimals)) < amountIn\n    : null;\n  const formattedBalanceIn = balanceIn\n    ? parseFloat(formatUnits(balanceIn, tokens[tokenIn].decimals)).toPrecision(6)\n    : null;\n  const formattedBalanceOut = balanceOut\n    ? parseFloat(formatUnits(balanceOut, tokens[tokenOut].decimals)).toPrecision(6)\n    : null;\n\n  const metaIn =\n    tokens && tokenList && tokenIn\n      ? tokenList.filter(function (t) {\n          return t.address === tokens[tokenIn].address;\n        })[0]\n      : null;\n  const metaOut =\n    tokens && tokenList && tokenOut\n      ? tokenList.filter(function (t) {\n          return t.address === tokens[tokenOut].address;\n        })[0]\n      : null;\n\n  const cleanIpfsURI = uri => {\n    try {\n      return uri.replace(\"ipfs://\", \"https://ipfs.io/ipfs/\");\n    } catch (e) {\n      console.log(e, uri);\n      return uri;\n    }\n  };\n\n  const logoIn = metaIn ? cleanIpfsURI(metaIn.logoURI) : null;\n  const logoOut = metaOut ? cleanIpfsURI(metaOut.logoURI) : null;\n\n  const rawPrice = trades && trades[0] ? trades[0].executionPrice : null;\n  const price = rawPrice ? rawPrice.toSignificant(7) : null;\n  const priceDescription = rawPrice\n    ? invertPrice\n      ? `${rawPrice.invert().toSignificant(7)} ${tokenIn} per ${tokenOut}`\n      : `${price} ${tokenOut} per ${tokenIn}`\n    : null;\n\n  const priceWidget = (\n    <Space>\n      <Text type=\"secondary\">{priceDescription}</Text>\n      <Button\n        type=\"text\"\n        onClick={() => {\n          setInvertPrice(!invertPrice);\n        }}\n      >\n        <RetweetOutlined />\n      </Button>\n    </Space>\n  );\n\n  const swapModal = (\n    <Modal title=\"Confirm swap\" visible={swapModalVisible} onOk={handleSwapModalOk} onCancel={handleSwapModalCancel}>\n      <Row>\n        <Space>\n          <img src={logoIn} alt={tokenIn} width=\"30\" />\n          {amountIn}\n          {tokenIn}\n        </Space>\n      </Row>\n      <Row justify=\"center\" align=\"middle\" style={{ width: 30 }}>\n        <span>↓</span>\n      </Row>\n      <Row>\n        <Space>\n          <img src={logoOut} alt={tokenOut} width=\"30\" />\n          {amountOut}\n          {tokenOut}\n        </Space>\n      </Row>\n      <Divider />\n      <Row>{priceWidget}</Row>\n      <Row>\n        {trades && ((amountOutMin && exact === \"in\") || (amountInMax && exact === \"out\"))\n          ? exact === \"in\"\n            ? `Output is estimated. You will receive at least ${amountOutMin.toSignificant(\n                6,\n              )} ${tokenOut} or the transaction will revert.`\n            : `Input is estimated. You will sell at most ${amountInMax.toSignificant(\n                6,\n              )} ${tokenIn} or the transaction will revert.`\n          : null}\n      </Row>\n    </Modal>\n  );\n\n  return (\n    <Card\n      title={\n        <Space>\n          <img src=\"https://ipfs.io/ipfs/QmXttGpZrECX5qCyXbBQiqgQNytVGeZW5Anewvh2jc4psg\" width=\"40\" alt=\"uniswapLogo\" />\n          <Typography>Uniswapper</Typography>\n        </Space>\n      }\n      extra={\n        <Button\n          type=\"text\"\n          onClick={() => {\n            setSettingsVisible(true);\n          }}\n        >\n          <SettingOutlined />\n        </Button>\n      }\n    >\n      <Space direction=\"vertical\">\n        <Row justify=\"center\" align=\"middle\">\n          <Card\n            size=\"small\"\n            type=\"inner\"\n            title={`From${exact === \"out\" && tokenIn && tokenOut ? \" (estimate)\" : \"\"}`}\n            extra={\n              <>\n                <img src={logoIn} alt={tokenIn} width=\"30\" />\n                <Button\n                  type=\"link\"\n                  onClick={() => {\n                    setAmountOut();\n                    setAmountIn(formatUnits(balanceIn, tokens[tokenIn].decimals));\n                    setAmountOutMin();\n                    setAmountInMax();\n                    setExact(\"in\");\n                  }}\n                >\n                  {formattedBalanceIn}\n                </Button>\n              </>\n            }\n            style={{ width: 400, textAlign: \"left\" }}\n          >\n            <InputNumber\n              style={{ width: \"160px\" }}\n              min={0}\n              size=\"large\"\n              value={amountIn}\n              onChange={e => {\n                setAmountOut();\n                setTrades();\n                setAmountIn(e);\n                setExact(\"in\");\n              }}\n            />\n            <Select\n              showSearch\n              value={tokenIn}\n              style={{ width: \"120px\" }}\n              size=\"large\"\n              bordered={false}\n              defaultValue={defaultToken}\n              onChange={value => {\n                console.log(value);\n                if (value === tokenOut) {\n                  console.log(\"switch!\", tokenIn);\n                  setTokenOut(tokenIn);\n                  setAmountOut(amountIn);\n                  setBalanceOut(balanceIn);\n                }\n                setTokenIn(value);\n                setTrades();\n                setAmountIn();\n                setExact(\"out\");\n                setBalanceIn();\n              }}\n              filterOption={(input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n              optionFilterProp=\"children\"\n            >\n              {tokenList.map(token => (\n                <Option key={token.symbol} value={token.symbol}>\n                  {token.symbol}\n                </Option>\n              ))}\n            </Select>\n          </Card>\n        </Row>\n        <Row justify=\"center\" align=\"middle\">\n          <Tooltip title={route.join(\"->\")}>\n            <span>↓</span>\n          </Tooltip>\n        </Row>\n        <Row justify=\"center\" align=\"middle\">\n          <Card\n            size=\"small\"\n            type=\"inner\"\n            title={`To${exact === \"in\" && tokenIn && tokenOut ? \" (estimate)\" : \"\"}`}\n            extra={\n              <>\n                <img src={logoOut} width=\"30\" alt={tokenOut} />\n                <Button type=\"text\">{formattedBalanceOut}</Button>\n              </>\n            }\n            style={{ width: 400, textAlign: \"left\" }}\n          >\n            <InputNumber\n              style={{ width: \"160px\" }}\n              size=\"large\"\n              min={0}\n              value={amountOut}\n              onChange={e => {\n                setAmountOut(e);\n                setAmountIn();\n                setTrades();\n                setExact(\"out\");\n              }}\n            />\n            <Select\n              showSearch\n              value={tokenOut}\n              style={{ width: \"120px\" }}\n              size=\"large\"\n              bordered={false}\n              onChange={value => {\n                console.log(value, tokenIn, tokenOut);\n                if (value === tokenIn) {\n                  console.log(\"switch!\", tokenOut);\n                  setTokenIn(tokenOut);\n                  setAmountIn(amountOut);\n                  setBalanceIn(balanceOut);\n                }\n                setTokenOut(value);\n                setExact(\"in\");\n                setAmountOut();\n                setTrades();\n                setBalanceOut();\n              }}\n              filterOption={(input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n              optionFilterProp=\"children\"\n            >\n              {tokenList.map(token => (\n                <Option key={token.symbol} value={token.symbol}>\n                  {token.symbol}\n                </Option>\n              ))}\n            </Select>\n          </Card>\n        </Row>\n        <Row justify=\"center\" align=\"middle\">\n          {priceDescription ? priceWidget : null}\n        </Row>\n        <Row justify=\"center\" align=\"middle\">\n          <Space>\n            {inputIsToken ? (\n              <Button size=\"large\" loading={approving} disabled={!insufficientAllowance} onClick={approveRouter}>\n                {!insufficientAllowance && amountIn && amountOut ? \"Approved\" : \"Approve\"}\n              </Button>\n            ) : null}\n            <Button\n              size=\"large\"\n              loading={swapping}\n              disabled={insufficientAllowance || insufficientBalance || !amountIn || !amountOut}\n              onClick={showSwapModal}\n            >\n              {insufficientBalance ? \"Insufficient balance\" : \"Swap!\"}\n            </Button>\n            {swapModal}\n          </Space>\n        </Row>\n      </Space>\n      <Drawer\n        visible={settingsVisible}\n        onClose={() => {\n          setSettingsVisible(false);\n        }}\n        width={500}\n      >\n        <Descriptions title=\"Details\" column={1} style={{ textAlign: \"left\" }}>\n          <Descriptions.Item label=\"blockNumber\">{blockNumber}</Descriptions.Item>\n          <Descriptions.Item label=\"routerAllowance\">\n            <Space>\n              {routerAllowance ? formatUnits(routerAllowance, tokens[tokenIn].decimals) : null}\n              {routerAllowance > 0 ? <Button onClick={removeRouterAllowance}>Remove Allowance</Button> : null}\n            </Space>\n          </Descriptions.Item>\n          <Descriptions.Item label=\"route\">{route.join(\"->\")}</Descriptions.Item>\n          <Descriptions.Item label=\"exact\">{exact}</Descriptions.Item>\n          <Descriptions.Item label=\"bestPrice\">\n            {trades ? (trades.length > 0 ? trades[0].executionPrice.toSignificant(6) : null) : null}\n          </Descriptions.Item>\n          <Descriptions.Item label=\"nextMidPrice\">\n            {trades ? (trades.length > 0 ? trades[0].nextMidPrice.toSignificant(6) : null) : null}\n          </Descriptions.Item>\n          <Descriptions.Item label=\"priceImpact\">\n            {trades ? (trades.length > 0 ? trades[0].priceImpact.toSignificant(6) : null) : null}\n          </Descriptions.Item>\n          <Descriptions.Item label=\"slippageTolerance\">\n            <InputNumber\n              defaultValue={defaultSlippage}\n              min={0}\n              max={100}\n              precision={2}\n              formatter={value => `${value}%`}\n              parser={value => value.replace(\"%\", \"\")}\n              onChange={value => {\n                console.log(value);\n\n                const slippagePercent = new Percent(Math.round(value * 100).toString(), \"10000\");\n                setSlippageTolerance(slippagePercent);\n              }}\n            />\n          </Descriptions.Item>\n          <Descriptions.Item label=\"amountInMax\">{amountInMax ? amountInMax.toExact() : null}</Descriptions.Item>\n          <Descriptions.Item label=\"amountOutMin\">{amountOutMin ? amountOutMin.toExact() : null}</Descriptions.Item>\n          <Descriptions.Item label=\"timeLimitInSeconds\">\n            <InputNumber\n              min={0}\n              max={3600}\n              defaultValue={defaultTimeLimit}\n              onChange={value => {\n                console.log(value);\n                setTimeLimit(value);\n              }}\n            />\n          </Descriptions.Item>\n        </Descriptions>\n      </Drawer>\n    </Card>\n  );\n}\n\nexport default Swap;\n"]},"metadata":{},"sourceType":"module"}