{"ast":null,"code":"var _jsxFileName = \"/Users/yuzucchi/Documents/operations/nft/scaffold-eth/packages/react-app/src/App.jsx\";\nimport { LinkOutlined } from \"@ant-design/icons\";\nimport { StaticJsonRpcProvider, Web3Provider } from \"@ethersproject/providers\";\nimport { formatEther, parseEther } from \"@ethersproject/units\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\nimport { Alert, Button, Card, Col, Input, List, Menu, Row } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport { useUserAddress } from \"eth-hooks\";\nimport { utils } from \"ethers\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport ReactJson from \"react-json-view\";\nimport { BrowserRouter, Link, Route, Switch } from \"react-router-dom\";\nimport Web3Modal from \"web3modal\";\nimport \"./App.css\";\nimport StackGrid from \"react-stack-grid\";\nimport assets from \"./assets.js\";\nimport { Account, Address, AddressInput, Contract, Faucet, GasGauge, Header, Ramp, ThemeSwitch, Navbar } from \"./components\";\nimport { DAI_ABI, DAI_ADDRESS, INFURA_ID, NETWORK, NETWORKS } from \"./constants\";\nimport { Transactor } from \"./helpers\";\nimport axios from \"axios\";\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nimport { useBalance, useContractLoader, useContractReader, useEventListener, useExchangePrice, useExternalContractLoader, useGasPrice, useOnBlock, useinjectedProvider } from \"./hooks\";\nimport { css } from \"@emotion/react\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nconst nftImg = ({\n  image\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(LazyLoadImage, {\n  style: image.style,\n  alt: image.alt,\n  height: image.height,\n  src: image.src // use normal <img> attributes as props\n  ,\n  width: image.width,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }\n}, image.caption));\n\nconst {\n  BufferList\n} = require(\"bl\"); // https://www.npmjs.com/package/ipfs-http-client\n\n\nconst ipfsAPI = require(\"ipfs-http-client\");\n\nconst ipfs = ipfsAPI({\n  host: \"ipfs.infura.io\",\n  port: \"5001\",\n  protocol: \"https\"\n});\nconst ipfsGateway = \"https://cloudflare-ipfs.com/ipfs/\";\nconsole.log(\"üì¶ Assets: \", assets);\n/*\n    Welcome to üèó scaffold-eth !\n\n    Code:\n    https://github.com/austintgriffith/scaffold-eth\n\n    Support:\n    https://t.me/joinchat/KByvmRe5wkR-8F_zz6AjpA\n    or DM @austingriffith on twitter or telegram\n\n    You should get your own Infura.io ID and put it in `constants.js`\n    (this is your connection to the main Ethereum network for ENS etc.)\n\n\n    üåè EXTERNAL CONTRACTS:\n    You can also bring in contract artifacts in `constants.js`\n    (and then use the `useExternalContractLoader()` hook!)\n*/\n/// üì° What chain are your contracts deployed to?\n\nconst targetNetwork = NETWORKS.rinkeby; // <------- select your target frontend network (localhost, rinkeby, xdai, mainnet)\n// üò¨ Sorry for all the console logging\n\nconst DEBUG = true; // helper function to \"Get\" from IPFS\n// you usually go content.toString() after this...\n\nconst getFromIPFS = async hashToGet => {\n  for await (const file of ipfs.get(hashToGet)) {\n    console.log(file.path);\n    if (!file.content) continue;\n    const content = new BufferList();\n\n    for await (const chunk of file.content) {\n      content.append(chunk);\n    }\n\n    console.log(content);\n    return content;\n  }\n}; // üõ∞ providers\n\n\nif (DEBUG) console.log(\"üì° Connecting to Mainnet Ethereum\"); // const injectedProvider = getDefaultProvider(\"mainnet\", { infura: INFURA_ID, etherscan: ETHERSCAN_KEY, quorum: 1 });\n// const injectedProvider = new InfuraProvider(\"mainnet\",INFURA_ID);\n//\n// attempt to connect to our own scaffold eth rpc and if that fails fall back to infura...\n// Using StaticJsonRpcProvider as the chainId won't change see https://github.com/ethers-io/ethers.js/issues/901\n\nconst scaffoldEthProvider = new StaticJsonRpcProvider(\"https://rpc.scaffoldeth.io:48544\");\nconst mainnetInfura = new StaticJsonRpcProvider(\"https://mainnet.infura.io/v3/\" + INFURA_ID); // ( ‚ö†Ô∏è Getting \"failed to meet quorum\" errors? Check your INFURA_I\n// const getRandProviderUrl = () => targetNetwork.rpcUrl[Math.floor(Math.random() * targetNetwork.rpcUrl.length)];\n// üè† Your local provider is usually pointed at your local blockchain\n// let injectedProviderUrl = getRandProviderUrl();\n// as you deploy to other networks you can set REACT_APP_PROVIDER=https://dai.poa.network in packages/react-app/.env\n// const injectedProviderUrlFromEnv = process.env.REACT_APP_PROVIDER ? process.env.REACT_APP_PROVIDER : injectedProviderUrl;\n// if (DEBUG) console.log(\"üè† Connecting to provider:\", injectedProviderUrlFromEnv);\n// const injectedProvider = new StaticJsonRpcProvider(injectedProviderUrlFromEnv);\n// üî≠ block explorer URL\n\nconst blockExplorer = targetNetwork.blockExplorer;\n/*\n  Web3 modal helps us \"connect\" external wallets:\n*/\n\nconst web3Modal = new Web3Modal({\n  // network: \"mainnet\", // optional\n  cacheProvider: true,\n  // optional\n  providerOptions: {\n    walletconnect: {\n      package: WalletConnectProvider,\n      // required\n      options: {\n        infuraId: INFURA_ID\n      }\n    }\n  }\n});\n\nconst logoutOfWeb3Modal = async () => {\n  await web3Modal.clearCachedProvider();\n  setTimeout(() => {\n    window.location.reload();\n  }, 1);\n};\n\nfunction App(props) {\n  // scaffoldEthProvider && scaffoldEthProvider._network ? scaffoldEthProvider : mainnetInfura;\n  const [injectedProvider, setInjectedProvider] = useState(); // Use your injected provider from ü¶ä Metamask or if you don't have it then instantly generate a üî• burner wallet.\n  // const injectedProvider = useinjectedProvider(injectedProvider);\n\n  const address = useUserAddress(injectedProvider);\n  /* üíµ This hook will get the price of ETH from ü¶Ñ Uniswap: */\n\n  const price = false;\n  /* üî• This hook will get the price of Gas from ‚õΩÔ∏è EtherGasStation */\n\n  const gasPrice = useGasPrice(targetNetwork, \"normal\"); // You can warn the user if you would like them to be on a specific network\n\n  const localChainId = 1;\n  const selectedChainId = injectedProvider && injectedProvider._network && injectedProvider._network.chainId; // For more hooks, check out üîóeth-hooks at: https://www.npmjs.com/package/eth-hooks\n  // The transactor wraps transactions and provides notificiations\n\n  const tx = Transactor(injectedProvider, gasPrice); // Faucet Tx can be used to send funds from the faucet\n\n  const faucetTx = Transactor(injectedProvider, gasPrice); // üèó scaffold-eth is full of handy hooks like this one to get your balance:\n\n  const yourLocalBalance = useBalance(injectedProvider, address); // Just plug in different üõ∞ providers to get your balance on different chains:\n\n  const yourMainnetBalance = useBalance(injectedProvider, address); // Load in your local üìù contract and read a value from it:\n\n  const readContracts = useContractLoader(injectedProvider); // If you want to make üîê write transactions to your contracts, use the injectedProvider:\n\n  const writeContracts = useContractLoader(injectedProvider); // EXTERNAL CONTRACT EXAMPLE:\n  //\n  // If you want to bring in the mainnet DAI contract it would look like:\n  // const mainnetDAIContract = useExternalContractLoader(injectedProvider, DAI_ADDRESS, DAI_ABI);\n  // If you want to call a function on a new block\n  // useOnBlock(injectedProvider, () => {\n  //   console.log(`‚õì A new mainnet block is here: ${injectedProvider._lastBlockNumber}`);\n  // });\n  // Then read your DAI balance like:\n  // const myMainnetDAIBalance = useContractReader({ DAI: mainnetDAIContract }, \"DAI\", \"balanceOf\", [\n  //   \"0x34aA3F359A9D614239015126635CE7732c18fDF3\",\n  // ]);\n  // keep track of a variable from the contract in the local React state:\n\n  const balance = useContractReader(readContracts, \"Crabrades\", \"balanceOf\", [address]);\n  console.log(\"ü§ó balance:\", balance); // üìü Listen for broadcast events\n\n  const transferEvents = useEventListener(readContracts, \"Crabrades\", \"Transfer\", injectedProvider, 1);\n  console.log(\"üìü Transfer events:\", transferEvents); //\n  // üß† This effect will update crabrades by polling when your balance changes\n  //\n\n  const maxSupply = 9999;\n  const maxReserved = 35;\n  const yourBalance = balance && balance.toNumber && balance.toNumber();\n  const [crabrades, setCrabrades] = useState();\n  const [mintPrice, setMintPrice] = useState(false);\n  const [supply, setSupply] = useState(false); // const [maxSupply, setMaxSupply] = useState(false);\n  // const [reserved, setResrved] = useState(false);\n\n  useEffect(() => {\n    if (readContracts && readContracts.Crabrades && !mintPrice) (async () => {\n      const mp = await readContracts.Crabrades.getPrice(); // const reserved = await readContracts.Crabrades.getRemainingReserved();\n\n      const supply = await readContracts.Crabrades.totalSupply(); // setResrved(reserved);\n\n      setSupply(supply);\n      setMintPrice(formatEther(mp));\n    })();\n  }, [mintPrice, readContracts]);\n  useEffect(() => {\n    const updateCrabrades = async () => {\n      const collectibleUpdate = [];\n\n      for (let tokenIndex = 0; tokenIndex < balance; tokenIndex++) {\n        try {\n          console.log(\"GEtting token index\", tokenIndex);\n          const tokenId = await readContracts.Crabrades.tokenOfOwnerByIndex(address, tokenIndex);\n          console.log(\"tokenId\", tokenId);\n          const tokenURI = await readContracts.Crabrades.tokenURI(tokenId);\n          console.log(\"tokenURI\", tokenURI);\n          let data = {};\n\n          try {\n            const result = await axios.get(tokenURI);\n            data = result.data;\n            data.image = data.image.replace(\"ipfs://\", ipfsGateway);\n          } catch (e) {\n            console.log(e);\n          }\n\n          collectibleUpdate.push({\n            id: tokenId,\n            uri: tokenURI,\n            owner: address,\n            ...data\n          });\n        } catch (e) {\n          console.log(e);\n        }\n      }\n\n      setCrabrades(collectibleUpdate);\n    };\n\n    updateCrabrades();\n  }, [address, yourBalance]);\n  /*\n  const addressFromENS = useResolveName(injectedProvider, \"austingriffith.eth\");\n  console.log(\"üè∑ Resolved austingriffith.eth as:\",addressFromENS)\n  */\n  //\n  // üß´ DEBUG üë®üèª‚Äçüî¨\n  //\n\n  useEffect(() => {\n    if (DEBUG && injectedProvider && address && selectedChainId && yourLocalBalance && yourMainnetBalance && readContracts && writeContracts // &&\n    // mainnetDAIContract\n    ) {\n        console.log(\"_____________________________________ üèó scaffold-eth _____________________________________\");\n        console.log(\"üåé injectedProvider\", injectedProvider);\n        console.log(\"üè† localChainId\", localChainId);\n        console.log(\"üë©‚Äçüíº selected address:\", address);\n        console.log(\"üïµüèª‚Äç‚ôÇÔ∏è selectedChainId:\", selectedChainId); // console.log(\"üíµ yourLocalBalance\", yourLocalBalance ? formatEther(yourLocalBalance) : \"...\");\n        // console.log(\"üíµ yourMainnetBalance\", yourMainnetBalance ? formatEther(yourMainnetBalance) : \"...\");\n\n        console.log(\"üìù readContracts\", readContracts); // console.log(\"üåç DAI contract on mainnet:\", mainnetDAIContract);\n\n        console.log(\"üîê writeContracts\", writeContracts);\n      }\n  }, [injectedProvider, address, selectedChainId, yourLocalBalance, yourMainnetBalance, readContracts, writeContracts // mainnetDAIContract,\n  ]);\n  let networkDisplay = \"\";\n\n  if (localChainId && selectedChainId && localChainId !== selectedChainId) {\n    const networkSelected = NETWORK(selectedChainId);\n    const networkLocal = NETWORK(localChainId);\n\n    if (selectedChainId === 1337 && localChainId === 31337) {\n      networkDisplay = /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          zIndex: 2,\n          position: \"absolute\",\n          right: 0,\n          top: 60,\n          padding: 16\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Alert, {\n        message: \"\\u26A0\\uFE0F Wrong Network ID\",\n        description: /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 15\n          }\n        }, \"You have \", /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 26\n          }\n        }, \"chain id 1337\"), \" for localhost and you need to change it to \", /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 90\n          }\n        }, \"31337\"), \" to work with HardHat.\", /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 17\n          }\n        }, \"(MetaMask -> Settings -> Networks -> Chain ID -> 31337)\")),\n        type: \"error\",\n        closable: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }\n      }));\n    } else {\n      networkDisplay = /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          zIndex: 2,\n          position: \"absolute\",\n          right: 0,\n          top: 60,\n          padding: 16\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Alert, {\n        message: \"\\u26A0\\uFE0F Wrong Network\",\n        description: /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }\n        }, \"You have \", /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 26\n          }\n        }, networkSelected && networkSelected.name), \" selected and you need to be on\", \" \", /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 17\n          }\n        }, networkLocal && networkLocal.name), \".\"),\n        type: \"error\",\n        closable: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }\n      }));\n    }\n  } else {\n    networkDisplay = /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        zIndex: -1,\n        position: \"absolute\",\n        right: 154,\n        top: 28,\n        padding: 16,\n        color: targetNetwork.color\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 7\n      }\n    }, targetNetwork.name);\n  }\n\n  const loadWeb3Modal = useCallback(async () => {\n    const provider = await web3Modal.connect();\n    setInjectedProvider(new Web3Provider(provider));\n  }, [setInjectedProvider]);\n  useEffect(() => {\n    if (web3Modal.cachedProvider) {\n      loadWeb3Modal();\n    }\n  }, [loadWeb3Modal]);\n  const [route, setRoute] = useState();\n  useEffect(() => {\n    setRoute(window.location.pathname);\n  }, [setRoute]);\n  let faucetHint = \"\";\n  const faucetAvailable = injectedProvider && injectedProvider.connection && targetNetwork.name === \"localhost\";\n  const [faucetClicked, setFaucetClicked] = useState(false);\n\n  if (!faucetClicked && injectedProvider && injectedProvider._network && injectedProvider._network.chainId === 31337 && // yourLocalBalance &&\n  formatEther(yourLocalBalance) <= 0) {\n    faucetHint = /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: 16\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      onClick: () => {\n        faucetTx({\n          to: address,\n          value: parseEther(\"0.01\")\n        });\n        setFaucetClicked(true);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }\n    }, \"\\uD83D\\uDCB0 Grab funds from the faucet \\u26FD\\uFE0F\"));\n  } // const [sending, setSending] = useState();\n  // const [ipfsHash, setIpfsHash] = useState();\n  // const [ipfsDownHash, setIpfsDownHash] = useState();\n  // const [downloading, setDownloading] = useState();\n  // const [ipfsContent, setIpfsContent] = useState();\n\n\n  const [transferToAddresses, setTransferToAddresses] = useState({});\n  const [loadedAssets, setLoadedAssets] = useState(); // const [mintPrice, setMintPrice] = useState();\n\n  useEffect(() => {\n    const updateCrabrades = async () => {\n      const assetUpdate = [];\n\n      for (const a in transferEvents) {\n        try {\n          let transfer = transferEvents[a];\n          let owner;\n          const tokenURI = await readContracts.Crabrades.tokenURI(transfer[2]);\n          owner = await readContracts.Crabrades.ownerOf(transfer[2].toNumber());\n          let data = {};\n\n          try {\n            const result = await axios.get(tokenURI);\n            data = result.data;\n            data.image = data.image.replace(\"ipfs://\", ipfsGateway);\n          } catch (e) {\n            console.log(e);\n          }\n\n          assetUpdate.push({\n            id: transfer[2].toNumber(),\n            owner,\n            tokenURI,\n            metadata: data\n          });\n        } catch (e) {\n          console.log(e);\n        }\n      }\n\n      setLoadedAssets(assetUpdate);\n    };\n\n    if (readContracts && readContracts.Crabrades) updateCrabrades();\n  }, [readContracts, transferEvents]);\n  const galleryList = [];\n\n  for (const a in loadedAssets) {\n    console.log(\"loadedAssets\", a, loadedAssets[a]);\n    const cardActions = [];\n    cardActions.push( /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 7\n      }\n    }, \"owned by:\", \" \", /*#__PURE__*/React.createElement(Address, {\n      address: loadedAssets[a].owner,\n      ensProvider: injectedProvider,\n      blockExplorer: blockExplorer,\n      minimized: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 9\n      }\n    })));\n    galleryList.push( /*#__PURE__*/React.createElement(Card, {\n      style: {\n        width: 200\n      },\n      key: loadedAssets[a].metadata.name,\n      actions: cardActions,\n      title: /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 11\n        }\n      }, loadedAssets[a].metadata.name, \" \", /*#__PURE__*/React.createElement(\"a\", {\n        style: {\n          cursor: \"pointer\",\n          opacity: 0.33\n        },\n        href: `https://opensea.io/assets/0x280ecba1194ae1500ddad4a5f4a7e8270066146a/${loadedAssets[a].id}`,\n        target: \"_blank\",\n        rel: \"noreferrer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(LinkOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 15\n        }\n      }))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      style: {\n        maxWidth: 130\n      },\n      src: loadedAssets[a].metadata.image,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        opacity: 0.77\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 9\n      }\n    }, JSON.toString(loadedAssets[a].metadata.attributes))));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    style: {\n      backgroundImage: \"url(img/crabradesbackground.png)\",\n      backgroundRepeat: \"no-repeat\",\n      backgroundSize: \"100% auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(BrowserRouter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    address,\n    price,\n    web3Modal,\n    loadWeb3Modal,\n    logoutOfWeb3Modal,\n    injectedProvider,\n    blockExplorer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 566,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 568,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 569,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 17\n    }\n  }, \"Mint Price: \", mintPrice ? mintPrice : \"\"), /*#__PURE__*/React.createElement(ClipLoader, {\n    size: 50,\n    color: \"red\",\n    loading: !!!mintPrice,\n    speedMultiplier: 1.5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 579,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      console.log(\"gasPrice,\", gasPrice);\n      tx(writeContracts.Crabrades.adopt(1, {\n        value: parseEther(mintPrice)\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 582,\n      columnNumber: 15\n    }\n  }, \"Mint\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: 820,\n      margin: \"auto\",\n      marginTop: 32,\n      paddingBottom: 256\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 590,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(StackGrid, {\n    columnWidth: 200,\n    gutterWidth: 16,\n    gutterHeight: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 591,\n      columnNumber: 17\n    }\n  }, galleryList)))), injectedProvider && /*#__PURE__*/React.createElement(Route, {\n    path: \"/yourcollectibles\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 599,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: 640,\n      margin: \"auto\",\n      marginTop: 32,\n      paddingBottom: 32\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 600,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    bordered: true,\n    dataSource: crabrades,\n    renderItem: item => {\n      const id = item.id.toNumber();\n      return /*#__PURE__*/React.createElement(List.Item, {\n        key: id + \"_\" + item.uri + \"_\" + item.owner,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        title: /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 610,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            fontSize: 16,\n            marginRight: 8\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 31\n          }\n        }, \"#\", id), \" \", item.name),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 608,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: item.image,\n        style: {\n          maxWidth: 150\n        },\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 27\n        }\n      }, item.description)), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 25\n        }\n      }, \"owner:\", \" \", /*#__PURE__*/React.createElement(Address, {\n        address: item.owner,\n        ensProvider: injectedProvider,\n        blockExplorer: blockExplorer,\n        fontSize: 16,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(AddressInput, {\n        ensProvider: injectedProvider,\n        placeholder: \"transfer to address\",\n        value: transferToAddresses[id],\n        onChange: newValue => {\n          const update = {};\n          update[id] = newValue;\n          setTransferToAddresses({ ...transferToAddresses,\n            ...update\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 629,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        onClick: () => {\n          console.log(\"writeContracts\", writeContracts);\n          tx(writeContracts.Crabrades.transferFrom(address, transferToAddresses[id], id));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 639,\n          columnNumber: 27\n        }\n      }, \"Transfer\")));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 601,\n      columnNumber: 17\n    }\n  }))), DEBUG && injectedProvider && /*#__PURE__*/React.createElement(Route, {\n    path: \"/transfers\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 657,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: 600,\n      margin: \"auto\",\n      marginTop: 32,\n      paddingBottom: 32\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 658,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    bordered: true,\n    dataSource: transferEvents,\n    renderItem: item => {\n      return /*#__PURE__*/React.createElement(List.Item, {\n        key: item[0] + \"_\" + item[1] + \"_\" + item.blockNumber + \"_\" + item[2].toNumber(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          fontSize: 16,\n          marginRight: 8\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 665,\n          columnNumber: 25\n        }\n      }, \"#\", item[2].toNumber()), /*#__PURE__*/React.createElement(Address, {\n        address: item[0],\n        ensProvider: injectedProvider,\n        fontSize: 16,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 666,\n          columnNumber: 25\n        }\n      }), \" =>\", /*#__PURE__*/React.createElement(Address, {\n        address: item[1],\n        ensProvider: injectedProvider,\n        fontSize: 16,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 25\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 659,\n      columnNumber: 17\n    }\n  }))), DEBUG && injectedProvider && /*#__PURE__*/React.createElement(Route, {\n    path: \"/debugcontracts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 677,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Contract, {\n    name: \"Crabrades\",\n    signer: injectedProvider.getSigner(),\n    provider: injectedProvider,\n    address: address,\n    blockExplorer: blockExplorer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 678,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(ThemeSwitch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 690,\n      columnNumber: 7\n    }\n  }));\n}\n/* eslint-disable */\n\n\nwindow.ethereum && window.ethereum.on(\"chainChanged\", chainId => {\n  web3Modal.cachedProvider && setTimeout(() => {\n    window.location.reload();\n  }, 1);\n});\nwindow.ethereum && window.ethereum.on(\"accountsChanged\", accounts => {\n  web3Modal.cachedProvider && setTimeout(() => {\n    window.location.reload();\n  }, 1);\n});\n/* eslint-enable */\n\nexport default App;","map":{"version":3,"sources":["/Users/yuzucchi/Documents/operations/nft/scaffold-eth/packages/react-app/src/App.jsx"],"names":["LinkOutlined","StaticJsonRpcProvider","Web3Provider","formatEther","parseEther","WalletConnectProvider","Alert","Button","Card","Col","Input","List","Menu","Row","useUserAddress","utils","React","useCallback","useEffect","useState","ReactJson","BrowserRouter","Link","Route","Switch","Web3Modal","StackGrid","assets","Account","Address","AddressInput","Contract","Faucet","GasGauge","Header","Ramp","ThemeSwitch","Navbar","DAI_ABI","DAI_ADDRESS","INFURA_ID","NETWORK","NETWORKS","Transactor","axios","LazyLoadImage","useBalance","useContractLoader","useContractReader","useEventListener","useExchangePrice","useExternalContractLoader","useGasPrice","useOnBlock","useinjectedProvider","css","ClipLoader","nftImg","image","style","alt","height","src","width","caption","BufferList","require","ipfsAPI","ipfs","host","port","protocol","ipfsGateway","console","log","targetNetwork","rinkeby","DEBUG","getFromIPFS","hashToGet","file","get","path","content","chunk","append","scaffoldEthProvider","mainnetInfura","blockExplorer","web3Modal","cacheProvider","providerOptions","walletconnect","package","options","infuraId","logoutOfWeb3Modal","clearCachedProvider","setTimeout","window","location","reload","App","props","injectedProvider","setInjectedProvider","address","price","gasPrice","localChainId","selectedChainId","_network","chainId","tx","faucetTx","yourLocalBalance","yourMainnetBalance","readContracts","writeContracts","balance","transferEvents","maxSupply","maxReserved","yourBalance","toNumber","crabrades","setCrabrades","mintPrice","setMintPrice","supply","setSupply","Crabrades","mp","getPrice","totalSupply","updateCrabrades","collectibleUpdate","tokenIndex","tokenId","tokenOfOwnerByIndex","tokenURI","data","result","replace","e","push","id","uri","owner","networkDisplay","networkSelected","networkLocal","zIndex","position","right","top","padding","name","color","loadWeb3Modal","provider","connect","cachedProvider","route","setRoute","pathname","faucetHint","faucetAvailable","connection","faucetClicked","setFaucetClicked","to","value","transferToAddresses","setTransferToAddresses","loadedAssets","setLoadedAssets","assetUpdate","a","transfer","ownerOf","metadata","galleryList","cardActions","cursor","opacity","maxWidth","JSON","toString","attributes","backgroundImage","backgroundRepeat","backgroundSize","adopt","margin","marginTop","paddingBottom","item","fontSize","marginRight","description","newValue","update","transferFrom","blockNumber","getSigner","ethereum","on","accounts"],"mappings":"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","sourcesContent":["import { LinkOutlined } from \"@ant-design/icons\";\nimport { StaticJsonRpcProvider, Web3Provider } from \"@ethersproject/providers\";\nimport { formatEther, parseEther } from \"@ethersproject/units\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\nimport { Alert, Button, Card, Col, Input, List, Menu, Row } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport { useUserAddress } from \"eth-hooks\";\nimport { utils } from \"ethers\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport ReactJson from \"react-json-view\";\nimport { BrowserRouter, Link, Route, Switch } from \"react-router-dom\";\nimport Web3Modal from \"web3modal\";\nimport \"./App.css\";\nimport StackGrid from \"react-stack-grid\";\n\nimport assets from \"./assets.js\";\nimport {\n  Account,\n  Address,\n  AddressInput,\n  Contract,\n  Faucet,\n  GasGauge,\n  Header,\n  Ramp,\n  ThemeSwitch,\n  Navbar,\n} from \"./components\";\nimport { DAI_ABI, DAI_ADDRESS, INFURA_ID, NETWORK, NETWORKS } from \"./constants\";\nimport { Transactor } from \"./helpers\";\nimport axios from \"axios\";\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nimport {\n  useBalance,\n  useContractLoader,\n  useContractReader,\n  useEventListener,\n  useExchangePrice,\n  useExternalContractLoader,\n  useGasPrice,\n  useOnBlock,\n  useinjectedProvider,\n} from \"./hooks\";\nimport { css } from \"@emotion/react\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nconst nftImg = ({ image }) => (\n  <div>\n    <LazyLoadImage\n      style={image.style}\n      alt={image.alt}\n      height={image.height}\n      src={image.src} // use normal <img> attributes as props\n      width={image.width}\n    />\n    <span>{image.caption}</span>\n  </div>\n);\nconst { BufferList } = require(\"bl\");\n// https://www.npmjs.com/package/ipfs-http-client\nconst ipfsAPI = require(\"ipfs-http-client\");\n\nconst ipfs = ipfsAPI({ host: \"ipfs.infura.io\", port: \"5001\", protocol: \"https\" });\nconst ipfsGateway = \"https://cloudflare-ipfs.com/ipfs/\";\nconsole.log(\"üì¶ Assets: \", assets);\n\n/*\n    Welcome to üèó scaffold-eth !\n\n    Code:\n    https://github.com/austintgriffith/scaffold-eth\n\n    Support:\n    https://t.me/joinchat/KByvmRe5wkR-8F_zz6AjpA\n    or DM @austingriffith on twitter or telegram\n\n    You should get your own Infura.io ID and put it in `constants.js`\n    (this is your connection to the main Ethereum network for ENS etc.)\n\n\n    üåè EXTERNAL CONTRACTS:\n    You can also bring in contract artifacts in `constants.js`\n    (and then use the `useExternalContractLoader()` hook!)\n*/\n\n/// üì° What chain are your contracts deployed to?\nconst targetNetwork = NETWORKS.rinkeby; // <------- select your target frontend network (localhost, rinkeby, xdai, mainnet)\n\n// üò¨ Sorry for all the console logging\nconst DEBUG = true;\n\n// helper function to \"Get\" from IPFS\n// you usually go content.toString() after this...\nconst getFromIPFS = async hashToGet => {\n  for await (const file of ipfs.get(hashToGet)) {\n    console.log(file.path);\n    if (!file.content) continue;\n    const content = new BufferList();\n    for await (const chunk of file.content) {\n      content.append(chunk);\n    }\n    console.log(content);\n    return content;\n  }\n};\n\n// üõ∞ providers\nif (DEBUG) console.log(\"üì° Connecting to Mainnet Ethereum\");\n// const injectedProvider = getDefaultProvider(\"mainnet\", { infura: INFURA_ID, etherscan: ETHERSCAN_KEY, quorum: 1 });\n// const injectedProvider = new InfuraProvider(\"mainnet\",INFURA_ID);\n//\n// attempt to connect to our own scaffold eth rpc and if that fails fall back to infura...\n// Using StaticJsonRpcProvider as the chainId won't change see https://github.com/ethers-io/ethers.js/issues/901\nconst scaffoldEthProvider = new StaticJsonRpcProvider(\"https://rpc.scaffoldeth.io:48544\");\nconst mainnetInfura = new StaticJsonRpcProvider(\"https://mainnet.infura.io/v3/\" + INFURA_ID);\n// ( ‚ö†Ô∏è Getting \"failed to meet quorum\" errors? Check your INFURA_I\n\n// const getRandProviderUrl = () => targetNetwork.rpcUrl[Math.floor(Math.random() * targetNetwork.rpcUrl.length)];\n// üè† Your local provider is usually pointed at your local blockchain\n// let injectedProviderUrl = getRandProviderUrl();\n// as you deploy to other networks you can set REACT_APP_PROVIDER=https://dai.poa.network in packages/react-app/.env\n// const injectedProviderUrlFromEnv = process.env.REACT_APP_PROVIDER ? process.env.REACT_APP_PROVIDER : injectedProviderUrl;\n// if (DEBUG) console.log(\"üè† Connecting to provider:\", injectedProviderUrlFromEnv);\n// const injectedProvider = new StaticJsonRpcProvider(injectedProviderUrlFromEnv);\n\n// üî≠ block explorer URL\nconst blockExplorer = targetNetwork.blockExplorer;\n\n/*\n  Web3 modal helps us \"connect\" external wallets:\n*/\nconst web3Modal = new Web3Modal({\n  // network: \"mainnet\", // optional\n  cacheProvider: true, // optional\n  providerOptions: {\n    walletconnect: {\n      package: WalletConnectProvider, // required\n      options: {\n        infuraId: INFURA_ID,\n      },\n    },\n  },\n});\n\nconst logoutOfWeb3Modal = async () => {\n  await web3Modal.clearCachedProvider();\n  setTimeout(() => {\n    window.location.reload();\n  }, 1);\n};\n\nfunction App(props) {\n  // scaffoldEthProvider && scaffoldEthProvider._network ? scaffoldEthProvider : mainnetInfura;\n\n  const [injectedProvider, setInjectedProvider] = useState();\n  // Use your injected provider from ü¶ä Metamask or if you don't have it then instantly generate a üî• burner wallet.\n  // const injectedProvider = useinjectedProvider(injectedProvider);\n  const address = useUserAddress(injectedProvider);\n  /* üíµ This hook will get the price of ETH from ü¶Ñ Uniswap: */\n  const price = false;\n\n  /* üî• This hook will get the price of Gas from ‚õΩÔ∏è EtherGasStation */\n  const gasPrice = useGasPrice(targetNetwork, \"normal\");\n\n  // You can warn the user if you would like them to be on a specific network\n  const localChainId = 1;\n  const selectedChainId = injectedProvider && injectedProvider._network && injectedProvider._network.chainId;\n\n  // For more hooks, check out üîóeth-hooks at: https://www.npmjs.com/package/eth-hooks\n\n  // The transactor wraps transactions and provides notificiations\n  const tx = Transactor(injectedProvider, gasPrice);\n\n  // Faucet Tx can be used to send funds from the faucet\n  const faucetTx = Transactor(injectedProvider, gasPrice);\n\n  // üèó scaffold-eth is full of handy hooks like this one to get your balance:\n  const yourLocalBalance = useBalance(injectedProvider, address);\n\n  // Just plug in different üõ∞ providers to get your balance on different chains:\n  const yourMainnetBalance = useBalance(injectedProvider, address);\n\n  // Load in your local üìù contract and read a value from it:\n  const readContracts = useContractLoader(injectedProvider);\n\n  // If you want to make üîê write transactions to your contracts, use the injectedProvider:\n  const writeContracts = useContractLoader(injectedProvider);\n\n  // EXTERNAL CONTRACT EXAMPLE:\n  //\n  // If you want to bring in the mainnet DAI contract it would look like:\n  // const mainnetDAIContract = useExternalContractLoader(injectedProvider, DAI_ADDRESS, DAI_ABI);\n\n  // If you want to call a function on a new block\n  // useOnBlock(injectedProvider, () => {\n  //   console.log(`‚õì A new mainnet block is here: ${injectedProvider._lastBlockNumber}`);\n  // });\n\n  // Then read your DAI balance like:\n  // const myMainnetDAIBalance = useContractReader({ DAI: mainnetDAIContract }, \"DAI\", \"balanceOf\", [\n  //   \"0x34aA3F359A9D614239015126635CE7732c18fDF3\",\n  // ]);\n\n  // keep track of a variable from the contract in the local React state:\n  const balance = useContractReader(readContracts, \"Crabrades\", \"balanceOf\", [address]);\n  console.log(\"ü§ó balance:\", balance);\n\n  // üìü Listen for broadcast events\n  const transferEvents = useEventListener(readContracts, \"Crabrades\", \"Transfer\", injectedProvider, 1);\n  console.log(\"üìü Transfer events:\", transferEvents);\n\n  //\n  // üß† This effect will update crabrades by polling when your balance changes\n  //\n  const maxSupply = 9999;\n  const maxReserved = 35;\n\n  const yourBalance = balance && balance.toNumber && balance.toNumber();\n  const [crabrades, setCrabrades] = useState();\n  const [mintPrice, setMintPrice] = useState(false);\n  const [supply, setSupply] = useState(false);\n  // const [maxSupply, setMaxSupply] = useState(false);\n  // const [reserved, setResrved] = useState(false);\n\n  useEffect(() => {\n    if (readContracts && readContracts.Crabrades && !mintPrice)\n      (async () => {\n        const mp = await readContracts.Crabrades.getPrice();\n        // const reserved = await readContracts.Crabrades.getRemainingReserved();\n        const supply = await readContracts.Crabrades.totalSupply();\n\n        // setResrved(reserved);\n        setSupply(supply);\n        setMintPrice(formatEther(mp));\n      })();\n  }, [mintPrice, readContracts]);\n\n  useEffect(() => {\n    const updateCrabrades = async () => {\n      const collectibleUpdate = [];\n      for (let tokenIndex = 0; tokenIndex < balance; tokenIndex++) {\n        try {\n          console.log(\"GEtting token index\", tokenIndex);\n          const tokenId = await readContracts.Crabrades.tokenOfOwnerByIndex(address, tokenIndex);\n          console.log(\"tokenId\", tokenId);\n          const tokenURI = await readContracts.Crabrades.tokenURI(tokenId);\n          console.log(\"tokenURI\", tokenURI);\n\n          let data = {};\n          try {\n            const result = await axios.get(tokenURI);\n            data = result.data;\n            data.image = data.image.replace(\"ipfs://\", ipfsGateway);\n          } catch (e) {\n            console.log(e);\n          }\n\n          collectibleUpdate.push({ id: tokenId, uri: tokenURI, owner: address, ...data });\n        } catch (e) {\n          console.log(e);\n        }\n      }\n      setCrabrades(collectibleUpdate);\n    };\n    updateCrabrades();\n  }, [address, yourBalance]);\n\n  /*\n  const addressFromENS = useResolveName(injectedProvider, \"austingriffith.eth\");\n  console.log(\"üè∑ Resolved austingriffith.eth as:\",addressFromENS)\n  */\n\n  //\n  // üß´ DEBUG üë®üèª‚Äçüî¨\n  //\n  useEffect(() => {\n    if (\n      DEBUG &&\n      injectedProvider &&\n      address &&\n      selectedChainId &&\n      yourLocalBalance &&\n      yourMainnetBalance &&\n      readContracts &&\n      writeContracts\n      // &&\n      // mainnetDAIContract\n    ) {\n      console.log(\"_____________________________________ üèó scaffold-eth _____________________________________\");\n      console.log(\"üåé injectedProvider\", injectedProvider);\n      console.log(\"üè† localChainId\", localChainId);\n      console.log(\"üë©‚Äçüíº selected address:\", address);\n      console.log(\"üïµüèª‚Äç‚ôÇÔ∏è selectedChainId:\", selectedChainId);\n      // console.log(\"üíµ yourLocalBalance\", yourLocalBalance ? formatEther(yourLocalBalance) : \"...\");\n      // console.log(\"üíµ yourMainnetBalance\", yourMainnetBalance ? formatEther(yourMainnetBalance) : \"...\");\n      console.log(\"üìù readContracts\", readContracts);\n      // console.log(\"üåç DAI contract on mainnet:\", mainnetDAIContract);\n      console.log(\"üîê writeContracts\", writeContracts);\n    }\n  }, [\n    injectedProvider,\n    address,\n    selectedChainId,\n    yourLocalBalance,\n    yourMainnetBalance,\n    readContracts,\n    writeContracts,\n    // mainnetDAIContract,\n  ]);\n\n  let networkDisplay = \"\";\n  if (localChainId && selectedChainId && localChainId !== selectedChainId) {\n    const networkSelected = NETWORK(selectedChainId);\n    const networkLocal = NETWORK(localChainId);\n    if (selectedChainId === 1337 && localChainId === 31337) {\n      networkDisplay = (\n        <div style={{ zIndex: 2, position: \"absolute\", right: 0, top: 60, padding: 16 }}>\n          <Alert\n            message=\"‚ö†Ô∏è Wrong Network ID\"\n            description={\n              <div>\n                You have <b>chain id 1337</b> for localhost and you need to change it to <b>31337</b> to work with\n                HardHat.\n                <div>(MetaMask -&gt; Settings -&gt; Networks -&gt; Chain ID -&gt; 31337)</div>\n              </div>\n            }\n            type=\"error\"\n            closable={false}\n          />\n        </div>\n      );\n    } else {\n      networkDisplay = (\n        <div style={{ zIndex: 2, position: \"absolute\", right: 0, top: 60, padding: 16 }}>\n          <Alert\n            message=\"‚ö†Ô∏è Wrong Network\"\n            description={\n              <div>\n                You have <b>{networkSelected && networkSelected.name}</b> selected and you need to be on{\" \"}\n                <b>{networkLocal && networkLocal.name}</b>.\n              </div>\n            }\n            type=\"error\"\n            closable={false}\n          />\n        </div>\n      );\n    }\n  } else {\n    networkDisplay = (\n      <div style={{ zIndex: -1, position: \"absolute\", right: 154, top: 28, padding: 16, color: targetNetwork.color }}>\n        {targetNetwork.name}\n      </div>\n    );\n  }\n\n  const loadWeb3Modal = useCallback(async () => {\n    const provider = await web3Modal.connect();\n    setInjectedProvider(new Web3Provider(provider));\n  }, [setInjectedProvider]);\n\n  useEffect(() => {\n    if (web3Modal.cachedProvider) {\n      loadWeb3Modal();\n    }\n  }, [loadWeb3Modal]);\n\n  const [route, setRoute] = useState();\n  useEffect(() => {\n    setRoute(window.location.pathname);\n  }, [setRoute]);\n\n  let faucetHint = \"\";\n  const faucetAvailable = injectedProvider && injectedProvider.connection && targetNetwork.name === \"localhost\";\n\n  const [faucetClicked, setFaucetClicked] = useState(false);\n  if (\n    !faucetClicked &&\n    injectedProvider &&\n    injectedProvider._network &&\n    injectedProvider._network.chainId === 31337 &&\n    // yourLocalBalance &&\n    formatEther(yourLocalBalance) <= 0\n  ) {\n    faucetHint = (\n      <div style={{ padding: 16 }}>\n        <Button\n          type=\"primary\"\n          onClick={() => {\n            faucetTx({\n              to: address,\n              value: parseEther(\"0.01\"),\n            });\n            setFaucetClicked(true);\n          }}\n        >\n          üí∞ Grab funds from the faucet ‚õΩÔ∏è\n        </Button>\n      </div>\n    );\n  }\n\n  // const [sending, setSending] = useState();\n  // const [ipfsHash, setIpfsHash] = useState();\n  // const [ipfsDownHash, setIpfsDownHash] = useState();\n\n  // const [downloading, setDownloading] = useState();\n  // const [ipfsContent, setIpfsContent] = useState();\n\n  const [transferToAddresses, setTransferToAddresses] = useState({});\n\n  const [loadedAssets, setLoadedAssets] = useState();\n  // const [mintPrice, setMintPrice] = useState();\n\n  useEffect(() => {\n    const updateCrabrades = async () => {\n      const assetUpdate = [];\n      for (const a in transferEvents) {\n        try {\n          let transfer = transferEvents[a];\n          let owner;\n          const tokenURI = await readContracts.Crabrades.tokenURI(transfer[2]);\n          owner = await readContracts.Crabrades.ownerOf(transfer[2].toNumber());\n          let data = {};\n          try {\n            const result = await axios.get(tokenURI);\n            data = result.data;\n            data.image = data.image.replace(\"ipfs://\", ipfsGateway);\n          } catch (e) {\n            console.log(e);\n          }\n          assetUpdate.push({ id: transfer[2].toNumber(), owner, tokenURI, metadata: data });\n        } catch (e) {\n          console.log(e);\n        }\n      }\n      setLoadedAssets(assetUpdate);\n    };\n    if (readContracts && readContracts.Crabrades) updateCrabrades();\n  }, [readContracts, transferEvents]);\n\n  const galleryList = [];\n\n  for (const a in loadedAssets) {\n    console.log(\"loadedAssets\", a, loadedAssets[a]);\n    const cardActions = [];\n    cardActions.push(\n      <div>\n        owned by:{\" \"}\n        <Address\n          address={loadedAssets[a].owner}\n          ensProvider={injectedProvider}\n          blockExplorer={blockExplorer}\n          minimized\n        />\n      </div>,\n    );\n    galleryList.push(\n      <Card\n        style={{ width: 200 }}\n        key={loadedAssets[a].metadata.name}\n        actions={cardActions}\n        title={\n          <div>\n            {loadedAssets[a].metadata.name}{\" \"}\n            <a\n              style={{ cursor: \"pointer\", opacity: 0.33 }}\n              href={`https://opensea.io/assets/0x280ecba1194ae1500ddad4a5f4a7e8270066146a/${loadedAssets[a].id}`}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              <LinkOutlined />\n            </a>\n          </div>\n        }\n      >\n        <img style={{ maxWidth: 130 }} src={loadedAssets[a].metadata.image} alt=\"\" />\n        <div style={{ opacity: 0.77 }}>{JSON.toString(loadedAssets[a].metadata.attributes)}</div>\n      </Card>,\n    );\n  }\n\n  return (\n    <div\n      className=\"App\"\n      style={{\n        backgroundImage: \"url(img/crabradesbackground.png)\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"100% auto\",\n      }}\n    >\n      {/* ‚úèÔ∏è Edit the header and change the title to your project name */}\n      {/* <Header /> */}\n      {/* {networkDisplay} */}\n      <BrowserRouter>\n        {/* <Menu style={{ textAlign: \"center\" }} selectedKeys={[route]} mode=\"horizontal\">\n          <Menu.Item key=\"/\">\n            <Link\n              onClick={() => {\n                setRoute(\"/\");\n              }}\n              to=\"/\"\n            >\n              Gallery\n            </Link>\n          </Menu.Item>\n          <Menu.Item key=\"/yourcollectibles\">\n            <Link\n              onClick={() => {\n                setRoute(\"/yourcollectibles\");\n              }}\n              to=\"/yourcollectibles\"\n            >\n             My Crabrades\n            </Link>\n          </Menu.Item>\n          {DEBUG && (\n            <Menu.Item key=\"/transfers\">\n              <Link\n                onClick={() => {\n                  setRoute(\"/transfers\");\n                }}\n                to=\"/transfers\"\n              >\n                Transfers\n              </Link>\n            </Menu.Item>\n          )}\n          {DEBUG && (\n            <Menu.Item key=\"/ipfsup\">\n              <Link\n                onClick={() => {\n                  setRoute(\"/ipfsup\");\n                }}\n                to=\"/ipfsup\"\n              >\n                IPFS Upload\n              </Link>\n            </Menu.Item>\n          )}\n          {DEBUG && (\n            <Menu.Item key=\"/ipfsdown\">\n              <Link\n                onClick={() => {\n                  setRoute(\"/ipfsdown\");\n                }}\n                to=\"/ipfsdown\"\n              >\n                IPFS Download\n              </Link>\n            </Menu.Item>\n          )}\n          {DEBUG && (\n            <Menu.Item key=\"/debugcontracts\">\n              <Link\n                onClick={() => {\n                  setRoute(\"/debugcontracts\");\n                }}\n                to=\"/debugcontracts\"\n              >\n                Debug Contracts\n              </Link>\n            </Menu.Item>\n          )}\n        </Menu> */}\n        <Navbar {...{ address, price, web3Modal, loadWeb3Modal, logoutOfWeb3Modal, injectedProvider, blockExplorer }} />\n\n        <Switch>\n          <Route exact path=\"/\">\n            {/*\n                üéõ this scaffolding is full of commonly used components\n                this <Contract/> component will automatically parse your ABI\n                and give you a form to interact with it locally\n            */}\n            <div>\n              {/* <h3>: {mintPrice}</h3> */}\n              <div>\n                <h3>Mint Price: {mintPrice ? mintPrice : \"\"}</h3>\n                <ClipLoader size={50} color={\"red\"} loading={!!!mintPrice} speedMultiplier={1.5} />\n              </div>\n\n              <Button\n                onClick={() => {\n                  console.log(\"gasPrice,\", gasPrice);\n                  tx(writeContracts.Crabrades.adopt(1, { value: parseEther(mintPrice) }));\n                }}\n              >\n                Mint\n              </Button>\n              <div style={{ maxWidth: 820, margin: \"auto\", marginTop: 32, paddingBottom: 256 }}>\n                <StackGrid columnWidth={200} gutterWidth={16} gutterHeight={16}>\n                  {galleryList}\n                </StackGrid>\n              </div>\n            </div>\n          </Route>\n\n          {injectedProvider && (\n            <Route path=\"/yourcollectibles\">\n              <div style={{ width: 640, margin: \"auto\", marginTop: 32, paddingBottom: 32 }}>\n                <List\n                  bordered\n                  dataSource={crabrades}\n                  renderItem={item => {\n                    const id = item.id.toNumber();\n                    return (\n                      <List.Item key={id + \"_\" + item.uri + \"_\" + item.owner}>\n                        <Card\n                          title={\n                            <div>\n                              <span style={{ fontSize: 16, marginRight: 8 }}>#{id}</span> {item.name}\n                            </div>\n                          }\n                        >\n                          <div>\n                            <img src={item.image} style={{ maxWidth: 150 }} alt=\"\" />\n                          </div>\n                          <div>{item.description}</div>\n                        </Card>\n\n                        <div>\n                          owner:{\" \"}\n                          <Address\n                            address={item.owner}\n                            ensProvider={injectedProvider}\n                            blockExplorer={blockExplorer}\n                            fontSize={16}\n                          />\n                          <AddressInput\n                            ensProvider={injectedProvider}\n                            placeholder=\"transfer to address\"\n                            value={transferToAddresses[id]}\n                            onChange={newValue => {\n                              const update = {};\n                              update[id] = newValue;\n                              setTransferToAddresses({ ...transferToAddresses, ...update });\n                            }}\n                          />\n                          <Button\n                            onClick={() => {\n                              console.log(\"writeContracts\", writeContracts);\n                              tx(writeContracts.Crabrades.transferFrom(address, transferToAddresses[id], id));\n                            }}\n                          >\n                            Transfer\n                          </Button>\n                        </div>\n                      </List.Item>\n                    );\n                  }}\n                />\n              </div>\n            </Route>\n          )}\n\n          {DEBUG && injectedProvider && (\n            <Route path=\"/transfers\">\n              <div style={{ width: 600, margin: \"auto\", marginTop: 32, paddingBottom: 32 }}>\n                <List\n                  bordered\n                  dataSource={transferEvents}\n                  renderItem={item => {\n                    return (\n                      <List.Item key={item[0] + \"_\" + item[1] + \"_\" + item.blockNumber + \"_\" + item[2].toNumber()}>\n                        <span style={{ fontSize: 16, marginRight: 8 }}>#{item[2].toNumber()}</span>\n                        <Address address={item[0]} ensProvider={injectedProvider} fontSize={16} /> =&gt;\n                        <Address address={item[1]} ensProvider={injectedProvider} fontSize={16} />\n                      </List.Item>\n                    );\n                  }}\n                />\n              </div>\n            </Route>\n          )}\n\n          {DEBUG && injectedProvider && (\n            <Route path=\"/debugcontracts\">\n              <Contract\n                name=\"Crabrades\"\n                signer={injectedProvider.getSigner()}\n                provider={injectedProvider}\n                address={address}\n                blockExplorer={blockExplorer}\n              />\n            </Route>\n          )}\n        </Switch>\n      </BrowserRouter>\n\n      <ThemeSwitch />\n\n      {/* üó∫ Extra UI like gas price, eth price, faucet, and support: */}\n      {/* <div style={{ position: \"fixed\", textAlign: \"left\", left: 0, bottom: 20, padding: 10 }}>\n        <Row align=\"middle\" gutter={[4, 4]}>\n          <Col span={8}>\n            <Ramp price={price} address={address} networks={NETWORKS} />\n          </Col>\n\n          <Col span={8} style={{ textAlign: \"center\", opacity: 0.8 }}>\n            <GasGauge gasPrice={gasPrice} />\n          </Col>\n          <Col span={8} style={{ textAlign: \"center\", opacity: 1 }}>\n            <Button\n              onClick={() => {\n                window.open(\"https://t.me/joinchat/KByvmRe5wkR-8F_zz6AjpA\");\n              }}\n              size=\"large\"\n              shape=\"round\"\n            >\n              <span style={{ marginRight: 8 }} role=\"img\" aria-label=\"support\">\n                üí¨\n              </span>\n              Support\n            </Button>\n          </Col>\n        </Row>\n\n        <Row align=\"middle\" gutter={[4, 4]}>\n          <Col span={24}>\n            {faucetAvailable ? (\n              <Faucet injectedProvider={injectedProvider} price={price} ensProvider={injectedProvider} />\n            ) : (\n              \"\"\n            )}\n          </Col>\n        </Row>\n      </div> */}\n    </div>\n  );\n}\n\n/* eslint-disable */\nwindow.ethereum &&\n  window.ethereum.on(\"chainChanged\", chainId => {\n    web3Modal.cachedProvider &&\n      setTimeout(() => {\n        window.location.reload();\n      }, 1);\n  });\n\nwindow.ethereum &&\n  window.ethereum.on(\"accountsChanged\", accounts => {\n    web3Modal.cachedProvider &&\n      setTimeout(() => {\n        window.location.reload();\n      }, 1);\n  });\n/* eslint-enable */\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}